<!DOCTYPE html>
<html lang="es">





<head>
  <meta property="og:url" content="https://imlauera.github.io/gentoo_openrc/">
  <meta property="og:site_name" content="Imlauer">
  <meta property="og:title" content="Nueva instalación binaria de Gentoo con OpenRC, XFS y Sway (Los binarios de Gentoo no son como los de ArchLinux)">
  <meta property="og:description" content="Este es el comando para instalar la máxima cantidad de paquetes:
# Ignora las USE flags. emerge -aqvg --autounmask-backtrack=y --binpkg-respect-use=n jackett-bin o emerge -aqvG jackett (pero a veces no tenes el binario disponible) https://wiki.gentoo.org/wiki/Gentoo_Cheat_Sheet
Clásicos momentos usando Gentoo:
Instalé OBS Studio en Gentoo sin mirar las banderas (USE Flags) cuando ejecuté obs no podía agregar la cámara, y tampoco podía compartir la pantalla.
Con el comando emerge -pv obs-studio pude ver las banderas y leyendo la Wiki de Gentoo de OBS me dí cuenta que tengo que habilitar las siguientes banderas para tener esas funcionalidades:">
  <meta property="og:locale" content="es_es">
  <meta property="og:type" content="article">
    <meta property="article:published_time" content="2025-06-22T22:25:52-03:00">
    <meta property="article:modified_time" content="2025-06-22T22:25:52-03:00">
    <meta property="article:tag" content="Gentoo">

  
  <meta itemprop="name" content="Nueva instalación binaria de Gentoo con OpenRC, XFS y Sway (Los binarios de Gentoo no son como los de ArchLinux)">
  <meta itemprop="description" content="Este es el comando para instalar la máxima cantidad de paquetes:
# Ignora las USE flags. emerge -aqvg --autounmask-backtrack=y --binpkg-respect-use=n jackett-bin o emerge -aqvG jackett (pero a veces no tenes el binario disponible) https://wiki.gentoo.org/wiki/Gentoo_Cheat_Sheet
Clásicos momentos usando Gentoo:
Instalé OBS Studio en Gentoo sin mirar las banderas (USE Flags) cuando ejecuté obs no podía agregar la cámara, y tampoco podía compartir la pantalla.
Con el comando emerge -pv obs-studio pude ver las banderas y leyendo la Wiki de Gentoo de OBS me dí cuenta que tengo que habilitar las siguientes banderas para tener esas funcionalidades:">
  <meta itemprop="datePublished" content="2025-06-22T22:25:52-03:00">
  <meta itemprop="dateModified" content="2025-06-22T22:25:52-03:00">
  <meta itemprop="wordCount" content="5978">
  <meta itemprop="keywords" content="Gentoo">
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Nueva instalación binaria de Gentoo con OpenRC, XFS y Sway (Los binarios de Gentoo no son como los de ArchLinux)">
  <meta name="twitter:description" content="Este es el comando para instalar la máxima cantidad de paquetes:
# Ignora las USE flags. emerge -aqvg --autounmask-backtrack=y --binpkg-respect-use=n jackett-bin o emerge -aqvG jackett (pero a veces no tenes el binario disponible) https://wiki.gentoo.org/wiki/Gentoo_Cheat_Sheet
Clásicos momentos usando Gentoo:
Instalé OBS Studio en Gentoo sin mirar las banderas (USE Flags) cuando ejecuté obs no podía agregar la cámara, y tampoco podía compartir la pantalla.
Con el comando emerge -pv obs-studio pude ver las banderas y leyendo la Wiki de Gentoo de OBS me dí cuenta que tengo que habilitar las siguientes banderas para tener esas funcionalidades:">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
    
    Nueva instalación binaria de Gentoo con OpenRC, XFS y Sway (Los binarios de Gentoo no son como los de ArchLinux)
    
  </title>
  <link rel="stylesheet" href='https://imlauera.github.io/css/site.min.css'>
  <link rel="canonical" href="https://imlauera.github.io/gentoo_openrc/">
  <link rel="alternate" type="application/rss&#43;xml" href="https://imlauera.github.io/index.xml" title="Imlauer">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="referrer" content="no-referrer">
  <meta name="author" content="Imlauer.">
  <meta name="description" content="Este es el comando para instalar la máxima cantidad de paquetes:
# Ignora las USE flags.
emerge -aqvg --autounmask-backtrack=y --binpkg-respect-use=n jackett-bin
o
emerge -aqvG jackett (pero a veces no tenes el binario disponible)
https://wiki.gentoo.org/wiki/Gentoo_Cheat_Sheet
Clásicos momentos usando Gentoo:
Instalé OBS Studio en Gentoo sin mirar las banderas (USE Flags) cuando ejecuté obs no podía agregar la cámara, y tampoco podía compartir la pantalla.
Con el comando emerge -pv obs-studio pude ver las banderas y leyendo la Wiki de Gentoo de OBS me dí cuenta que tengo que habilitar las siguientes banderas para tener esas funcionalidades:">
</head>
<body><nav class="navbar is-transparent " role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a class="navbar-item" href="https://imlauera.github.io/">
      <figure class="image">
        <img alt="" class="is-rounded" src="/img/memememe.jpg">
      </figure>
    </a>
    <a class="navbar-item" href="https://imlauera.github.io/">
      Imlauer
    </a>
    <a class="navbar-item" href="/acerca/">
      Acerca de Mi
    </a>
  </div>
  
  
</nav>

  <section>
    <section class='hero is-small is-link is-fullwidth'>
      <div class="hero-body">
<div class="container">
  <h1 class="title">
    Nueva instalación binaria de Gentoo con OpenRC, XFS y Sway (Los binarios de Gentoo no son como los de ArchLinux)
  </h1>
  <h2 class="subtitle">
    <time datetime='2025-06-22T22:25:52-03:00'>
      June 22, 2025
    </time>
    
    <br>
    
    
    
    <a class="tag is-info" href="https://imlauera.github.io/tags/gentoo/">Gentoo</a>
    
    
    
  </h2>
</div>

      </div>
    </section>
    <section class="section">
      <div class="container">
<div class="content is-medium">
  <p>Este es el comando para instalar la máxima cantidad de paquetes:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Ignora las USE flags.</span>
</span></span><span style="display:flex;"><span>emerge -aqvg --autounmask-backtrack<span style="color:#f92672">=</span>y --binpkg-respect-use<span style="color:#f92672">=</span>n jackett-bin
</span></span><span style="display:flex;"><span>o
</span></span><span style="display:flex;"><span>emerge -aqvG jackett <span style="color:#f92672">(</span>pero a veces no tenes el binario disponible<span style="color:#f92672">)</span>
</span></span></code></pre></div><p><a href="https://wiki.gentoo.org/wiki/Gentoo_Cheat_Sheet">https://wiki.gentoo.org/wiki/Gentoo_Cheat_Sheet</a></p>
<p><strong>Clásicos momentos usando Gentoo:</strong><br>
Instalé <code>OBS Studio</code> en Gentoo sin mirar las banderas (USE Flags) cuando ejecuté <code>obs</code> no podía agregar la cámara, y tampoco podía compartir la pantalla.<br>
Con el comando <code>emerge -pv obs-studio</code> pude ver las banderas y leyendo la Wiki de Gentoo de OBS me dí cuenta que tengo que habilitar las siguientes banderas para tener esas funcionalidades:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild   R    <span style="color:#f92672">]</span> media-video/obs-studio-31.0.3-r2::gentoo  USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;alsa truetype wayland -browser -decklink -fdk -jack -lua (-mpegts) -nvenc -pipewire -pulseaudio -python -qsv -sndio -speex -test-input -v4l -vlc -websocket&#34;</span> LUA_SINGLE_TARGET<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;luajit&#34;</span> PYTHON_SINGLE_TARGET<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;python3_13 -python3_11 -python3_12 -python3_14&#34;</span> <span style="color:#ae81ff">0</span> KiB  
</span></span></code></pre></div><p>Ahí se pueden ver las banderas DESHABILITADAS (las que comienzan con un signo <code>-</code>)</p>
<p>Según la Wiki de OBS de Gentoo: <a href="https://wiki.gentoo.org/wiki/OBS_Studio">https://wiki.gentoo.org/wiki/OBS_Studio</a> estas son las banderas disponibles:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>+alsa      Add support <span style="color:#66d9ef">for</span> media-libs/alsa-lib <span style="color:#f92672">(</span>Advanced Linux Sound Architecture<span style="color:#f92672">)</span>  
</span></span><span style="display:flex;"><span>browser    Enable browser source support via <span style="color:#f92672">(</span>precompiled<span style="color:#f92672">)</span> CEF.  
</span></span><span style="display:flex;"><span>decklink   Build the Decklink plugin.  
</span></span><span style="display:flex;"><span>fdk        Build with LibFDK AAC support.  
</span></span><span style="display:flex;"><span>jack       Add support <span style="color:#66d9ef">for</span> the JACK Audio Connection Kit  
</span></span><span style="display:flex;"><span>lua        Enable Lua scripting support  
</span></span><span style="display:flex;"><span>mpegts     Enable native SRT/RIST mpegts output.  
</span></span><span style="display:flex;"><span>nvenc      Add support <span style="color:#66d9ef">for</span> NVIDIA Encoder/Decoder <span style="color:#f92672">(</span>NVENC/NVDEC<span style="color:#f92672">)</span> API <span style="color:#66d9ef">for</span> hardware accelerated encoding  
</span></span><span style="display:flex;"><span>           and decoding on NVIDIA cards <span style="color:#f92672">(</span>requires x11-drivers/nvidia-drivers<span style="color:#f92672">)</span>  
</span></span><span style="display:flex;"><span>pipewire   Build with PipeWire support.  
</span></span><span style="display:flex;"><span>pulseaudio Add sound server support via media-libs/libpulse <span style="color:#f92672">(</span>may be PulseAudio or PipeWire<span style="color:#f92672">)</span>  
</span></span><span style="display:flex;"><span>python     Build with scripting support <span style="color:#66d9ef">for</span> Python 3.  
</span></span><span style="display:flex;"><span>qsv        Build with Intel Quick Sync Video support.  
</span></span><span style="display:flex;"><span>sndio      Build with sndio support.  
</span></span><span style="display:flex;"><span>speex      Build with Speex noise suppression filter support.  
</span></span><span style="display:flex;"><span>test-input Build and install input sources used <span style="color:#66d9ef">for</span> testing.  
</span></span><span style="display:flex;"><span>truetype   Add support <span style="color:#66d9ef">for</span> FreeType and/or FreeType2 fonts  
</span></span><span style="display:flex;"><span>v4l        Enable support <span style="color:#66d9ef">for</span> video4linux <span style="color:#f92672">(</span>using linux-headers or userspace libv4l libraries<span style="color:#f92672">)</span>  
</span></span><span style="display:flex;"><span>vlc        Build with VLC media source support.  
</span></span><span style="display:flex;"><span>wayland    Enable dev-libs/wayland backend  
</span></span><span style="display:flex;"><span>websocket  Build with WebSocket API support.  
</span></span></code></pre></div><p>Entonces para que nos funcione la <strong>cámara y podamos compartir pantalla</strong> necesitamos:</p>
<ul>
<li><code>v4l</code></li>
<li><code>browser</code> para poder cargar elementos programados con Javascript, HTML y CSS.</li>
<li><code>pipewire</code> para captura de audio</li>
<li><code>truetype</code> letras</li>
<li><code>websocket</code></li>
</ul>
<p>Para saber donde escribimos estas banderas tenemos que leer lo básico de como usar Portage: <a href="https://wiki.gentoo.org/wiki/Handbook:AMD64/Full/Portage">https://wiki.gentoo.org/wiki/Handbook:AMD64/Full/Portage</a></p>
<p>Within <code>/etc/portage/</code> users can create the following files:</p>
<ul>
<li><code>package.mask</code> which lists the packages that Portage should never try to install</li>
<li><code>package.unmask</code> which lists the packages Portage should be able to install even though the Gentoo developers highly discourage users from emerging them</li>
<li><code>package.accept_keywords</code> which lists the packages Portage should be able to install even though the package hasn&rsquo;t been found suitable for the system or architecture (yet)</li>
<li><strong><code>package.use</code> which lists the USE flags to use for certain packages without having the entire system use those USE flags</strong></li>
</ul>
<p>Entonces todas esas banderas las escribiremos en el archivo <code>/etc/portage/package.use/obs</code> de la siguiente manera:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>media-video/obs-studio v4l browser pipewire truetype websocket  
</span></span></code></pre></div><p>Y ahora recompilemos</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge -av --quiet obs-studio  
</span></span></code></pre></div><p>Debería aparecer en <strong>verde las nuevas banderas con un asterisco</strong>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>ebuild   R   <span style="color:#f92672">]</span> media-video/obs-studio-31.0.3-r2  USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;alsa browser* pipewire* truetype v4l* wayland websocket* -decklink -fdk -jack -lua (-mpegts) -nvenc -pulseaudio -python -qsv -sndio -speex -test-input -vlc&#34;</span> LUA_SINGLE_TARGET<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;luajit&#34;</span> PYTHON_SINGLE_TARGET<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;python3_13 -python3_11 -python3_12 -python3_14&#34;</span>
</span></span></code></pre></div><p>Como estoy en Wayland (Sway) para compartir la pantalla debo seguir los siguientes pasos: <a href="https://imlauera.github.io/sway/">https://imlauera.github.io/sway/</a></p>
<hr>
<p><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgHABzk8ar7MZ6s1NvBGSu_y54LtiYr0Igp7Fl9Q21Xniedh6_OT9l7EjHF5E6CCvWOBb-e8f5C4WnfbwhnDDtSmKsBi_vT1YnubrS8zB00axT48yUHrUv09CTyL_LeAQ2RBbSB5juTTqCHydiP-bpJoQmWD5dNnUEoVEVSrNVWWJsFGgmkGm2ef0S4F96w/s1366/reddit.png" alt=""></p>
<p>Ya había hecho una guía anteriromente sobre instalar Gentoo: <a href="https://imlauera.github.io/post/gentoo_installation/">https://imlauera.github.io/post/gentoo_installation/</a></p>
<h6 id="binarios">Binarios</h6>
<p>Si instalas el binario del grub en Gentoo no es lo mismo que el binario en ArchLinux.<br>
El binario de GRUB no viene con la bandera <code>mount (USE Flag)</code> habilitada por lo tanto si quiero usar <code>OS-PROBER</code> estoy obligado a compilar el GRUB porque <strong>el binario de GRUB en Gentoo no tiene la bandera mount activada</strong> entonces tengo que compilarlo para poder usar <code>OS-PROBER</code>.<br>
Es decir los binarios vienen con la mínima cantidad de banderas posibles, a diferencia de ArchLinux que vienen con la máxima cantidad de banderas posibles activadas.</p>
<hr>
<h6 id="handbook-amd64-full">Handbook AMD64 FULL: <a href="https://wiki.gentoo.org/wiki/Handbook:AMD64/Full">https://wiki.gentoo.org/wiki/Handbook:AMD64/Full</a></h6>
<ol>
<li>Instalación: <a href="https://wiki.gentoo.org/wiki/Handbook:AMD64/Full/Installation">https://wiki.gentoo.org/wiki/Handbook:AMD64/Full/Installation</a></li>
<li>Como usar emerge: <a href="https://wiki.gentoo.org/wiki/Handbook:AMD64/Full/Working">https://wiki.gentoo.org/wiki/Handbook:AMD64/Full/Working</a></li>
<li>Portage: <a href="https://wiki.gentoo.org/wiki/Handbook:AMD64/Full/Portage">https://wiki.gentoo.org/wiki/Handbook:AMD64/Full/Portage</a></li>
<li>Configurando la red en OpenRC: <a href="https://wiki.gentoo.org/wiki/Handbook:AMD64/Full/Networking">https://wiki.gentoo.org/wiki/Handbook:AMD64/Full/Networking</a></li>
</ol>
<p><a href="https://wiki.gentoo.org/wiki/Handbook:AMD64/Full">https://wiki.gentoo.org/wiki/Handbook:AMD64/Full</a></p>
<p><strong>AVISO: Esta guía no incluye la creación del pendrive con Gentoo ni el particionado</strong>. Esta guía comienza después el particionado para adelante.<br>
<strong>Como hacer crear el pendrive y el particionado están bien descriptos en el handbook</strong>.</p>
<p>Instalé gentoo guíandome con el handbook: Usé XFS, OpenRC, Grub y agregué el binary host.</p>
<p>NO instalé pipewire y funcionó el audio sin configurarlo.</p>
<h5 id="en-el-handbook-usaba-efi-como-partición-yo-usé-bootque-supuestamente-es-para-legacy-bios-funcionó-pero-no-tengo-legacy-bios-tengo-uefi">En el handbook usaba <code>/efi</code> como partición yo usé <code>/boot</code>(que supuestamente es para Legacy BIOS), funcionó pero no tengo Legacy BIOS tengo UEFI.</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkfs.fat -F <span style="color:#ae81ff">32</span> /dev/sda2   
</span></span><span style="display:flex;"><span>mkfs.xfs /dev/sda1   
</span></span><span style="display:flex;"><span>mkswap /dev/sda6   
</span></span><span style="display:flex;"><span>mount /dev/sda1 /mnt/gentoo   
</span></span><span style="display:flex;"><span>mount /dev/sda2 /mnt/gentoo/boot <span style="color:#f92672">(</span>En la guía sugiere /efi pero no lo usé así<span style="color:#f92672">)</span>   
</span></span><span style="display:flex;"><span>swapon /dev/sda6   
</span></span><span style="display:flex;"><span>cd /mnt/gentoo   
</span></span><span style="display:flex;"><span>chronyd -q   
</span></span><span style="display:flex;"><span>links https://gentoo.org/downloads/mirrors/   
</span></span><span style="display:flex;"><span>releases/amd64/autobuilds/   
</span></span><span style="display:flex;"><span>Descargué OpenRC: current-stage3-amd64-desktop-openrc/   
</span></span><span style="display:flex;"><span>tar xpvf stage3-*.tar.xz --xattrs-include<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;*.*&#39;</span> --numeric-owner -C /mnt/gentoo   
</span></span></code></pre></div><p>nano <code>/mnt/gentoo/etc/portage/make.conf</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Mira los de la publicacion gentoo_instalacion tambien agrega --binpkg-respect-use=n y el otro.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>EMERGE_DEFAULT_OPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;--quiet&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>COMMON_FLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-march=native -O2&#34;</span>
</span></span><span style="display:flex;"><span>CFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>COMMON_FLAGS<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>CXXFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>COMMON_FLAGS<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>RUSTFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>RUSTFLAGS<span style="color:#e6db74">}</span><span style="color:#e6db74"> -C target-cpu=native&#34;</span>
</span></span><span style="display:flex;"><span>FCFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>COMMON_FLAGS<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>FFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>COMMON_FLAGS<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># NOTE: This stage was built with the bindist USE flag enabled</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># This sets the language of build output to English.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Please keep this setting intact when reporting bugs.</span>
</span></span><span style="display:flex;"><span>LC_MESSAGES<span style="color:#f92672">=</span>C.utf8
</span></span><span style="display:flex;"><span>MAKEOPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-j2 -l3&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>GENTOO_MIRRORS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://gentoo.zero.com.ar/gentoo/ \
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    rsync://gentoo.zero.com.ar/gentoo&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>FEATURES<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>FEATURES<span style="color:#e6db74">}</span><span style="color:#e6db74"> getbinpkg&#34;</span>
</span></span><span style="display:flex;"><span>FEATURES<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>FEATURES<span style="color:#e6db74">}</span><span style="color:#e6db74"> binpkg-request-signature&#34;</span>
</span></span><span style="display:flex;"><span>ACCEPT_LICENSE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;*&#34;</span>
</span></span><span style="display:flex;"><span>USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;dist-kernel -X -gtk -qt5 -gnome -kde minimal &#34;</span> <span style="color:#75715e"># Importantisimo porque sino no te carga los módulos no te funcionará nada ni carga las interfaces de red.</span>
</span></span><span style="display:flex;"><span>ACCEPT_KEYWORDS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;~amd64&#34;</span>
</span></span></code></pre></div><p>nano /etc/resolv.conf</p>
<p><strong>Borrá todo y poné las DNS de Cloudflare o Quad9</strong>. Las DNS de Personal, Claro, Movistar bloquean sitios como: <a href="https://librefutbol.su">https://librefutbol.su</a>, <a href="https://thepiratebay.org">https://thepiratebay.org</a>, <a href="https://example.com">https://example.com</a>, etc</p>
<pre tabindex="0"><code># Cloudflare (no uso porque reporta como Malware sitios para aprender reversing)  
nameserver 1.1.1.1   
nameserver 1.0.0.1   
# Quad9   
9.9.9.9
149.112.112.112
# Quad9 - Otra DNS (Esta uso) (no uso más porque bloquea digdeeper.love)
nameserver 9.9.9.11
nameserver 149.112.112.11
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cp --dereference /etc/resolv.conf /mnt/gentoo/etc<span style="color:#e6db74">`</span> <span style="color:#75715e"># se usa --dereference para que copie el archivo y no el link simbólico   </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>arch-chroot /mnt/gentoo<span style="color:#e6db74">`</span> o podes montar uno por uno como está en el Handbook   
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ln -sf /usr/share/zoneinfo/America/Buenos_Aires /etc/localtime
</span></span><span style="display:flex;"><span>hwclock --systohc
</span></span><span style="display:flex;"><span>nano /etc/locale.gen <span style="color:#75715e"># en_US.UTF-8</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>locale-gen
</span></span><span style="display:flex;"><span>eselect locale list
</span></span><span style="display:flex;"><span>eselect locale set <span style="color:#ae81ff">4</span> <span style="color:#f92672">(</span>en_US.utf8<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>locale-gen
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>source /etc/profile   
</span></span><span style="display:flex;"><span>export PS1<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;(chroot) </span><span style="color:#e6db74">${</span>PS1<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>   
</span></span><span style="display:flex;"><span>emerge-webrsync <span style="color:#75715e"># Baja una snapshot de los títulos de los paquetes disponibles, sirve si estás detrás de un firewall (se actualiza cada 24 horas)</span>
</span></span><span style="display:flex;"><span>rm -rf /etc/portage/gnupg/
</span></span><span style="display:flex;"><span>emerge --verbose --oneshot app-portage/mirrorselect   
</span></span><span style="display:flex;"><span>mirrorselect -i -o &gt;&gt; /etc/portage/make.conf   
</span></span><span style="display:flex;"><span>emerge --sync <span style="color:#75715e"># Lo mismo que emerge-webrsync pero más actualizado. No hace falta porque emerge-webrsync está bastante actualizado.   </span>
</span></span><span style="display:flex;"><span>eselect news list   
</span></span><span style="display:flex;"><span>eselect news read   
</span></span><span style="display:flex;"><span>eselect profile list   
</span></span><span style="display:flex;"><span>eselect profile set número <span style="color:#f92672">(</span>Probablemente ya está seleccionado con asterisco sino: default/linux/amd64/23.0/desktop no usé no-multilib<span style="color:#f92672">)</span>   
</span></span></code></pre></div><h6 id="agregando-el-host-de-paquetes-binarios">Agregando el host de paquetes binarios.</h6>
<p>Esta parte la hice igual que como está en el Handbook</p>
<p>Este archivo <code>/etc/portage/binrepos.conf/gentoobinhost.conf</code> ya está creado pero le cambié la prioridad:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>[binhost]   
</span></span><span style="display:flex;"><span>priority = 9999   
</span></span><span style="display:flex;"><span>sync-uri = https://distfiles.gentoo.org/releases/&lt;arch&gt;/binpackages/&lt;profile&gt;/x86-64/   
</span></span></code></pre></div><p>En el archivo <code>/etc/portage/make.conf</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Appending getbinpkg to the list of values within the FEATURES variable   </span>
</span></span><span style="display:flex;"><span>FEATURES<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>FEATURES<span style="color:#e6db74">}</span><span style="color:#e6db74"> getbinpkg&#34;</span>   
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Require signatures   </span>
</span></span><span style="display:flex;"><span>FEATURES<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>FEATURES<span style="color:#e6db74">}</span><span style="color:#e6db74"> binpkg-request-signature&#34;</span>   
</span></span></code></pre></div><p>Luego:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>getuto   
</span></span></code></pre></div><p>Para ver las banderas activas: <code>emerge --info | grep ^USE</code><br>
Luego agregué <code>USE=&quot;&quot;</code> en /etc/portage/make.conf</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge --ask --oneshot app-portage/cpuid2cpuflags   
</span></span><span style="display:flex;"><span>cpuid2cpuflags   
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;*/* </span><span style="color:#66d9ef">$(</span>cpuid2cpuflags<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span> &gt; /etc/portage/package.use/00cpu-flags   
</span></span></code></pre></div><p>En el archivo: <code>/etc/portage/package.use/00video_cards</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>*/* VIDEO_CARDS: intel   
</span></span></code></pre></div><h5 id="aceptá-la-licencia-ya-lo-hice-antes-en-el-makeconf">Aceptá la licencia (ya lo hice antes en el <code>make.conf</code>)</h5>
<p>Para ver la licencia actual: <code>portageq envvar ACCEPT_LICENSE</code><br>
Yo usé <code>ACCEPT_LICENCE=&quot;*&quot;</code> se puede aceptar licencia por cada paquete usando el archivo <code>/etc/portage/package.license/kernel</code>.<br>
Para actualizar: <code>emerge --ask --verbose --update --deep --newuse --getbinpkg @world --quiet</code></p>
<p>Eliminar paquetes obsoletos te muestra una lista: <code>emerge --ask --pretend --depclean</code> # Si le sacas <code>--pretend</code> los borra.</p>
<p>Configurar fecha y hora:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;America/Buenos_Aires&#34;</span> &gt; /etc/timezone   
</span></span><span style="display:flex;"><span>emerge --config sys-libs/timezone-data   
</span></span></code></pre></div><p>En el archivo <code>nano /etc/locale.gen</code> habilitá US locales (es el idioma del sitema operativo).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>en_US ISO-8859-1   
</span></span><span style="display:flex;"><span>en_US.UTF-8 UTF-8   
</span></span></code></pre></div><p>Ejecutá:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>locale-gen   
</span></span><span style="display:flex;"><span>eselect locale list   
</span></span><span style="display:flex;"><span>eselect locale set <span style="color:#ae81ff">5</span> <span style="color:#f92672">(</span>en_US.utf8<span style="color:#f92672">)</span>   
</span></span></code></pre></div><p>Ahora: <code>env-update &amp;&amp; source /etc/profile &amp;&amp; export PS1=&quot;(chroot) ${PS1}&quot;</code></p>
<p>Ahora instalamos <code>linux-firmware</code> (sin esto probablemente no funcionará tu WiFi son los drivers).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge -G sys-kernel/linux-firmware   
</span></span><span style="display:flex;"><span>emerge -G sys-firmware/sof-firmware   
</span></span><span style="display:flex;"><span>emerge -G sys-firmware/intel-microcode   
</span></span></code></pre></div><h5 id="instalando-el-grub">Instalando el GRUB:</h5>
<p><strong>Para mi esto no lo necesito pero igual lo hice así</strong>
En el archivo <code>/etc/portage/package.use/installkernel</code> agregá:<br>
<code>sys-kernel/installkernel grub dracut</code></p>
<p>En el archivo <code>/etc/portage/package.use/uki</code> <strong>(Creo que no necesito hacer esto si vas a usar gentoo-kernel-bin)</strong>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sys-kernel/installkernel dracut uki   
</span></span><span style="display:flex;"><span>sys-apps/systemd-utils boot kernel-install   
</span></span></code></pre></div><p><code>emerge --ask sys-kernel/installkernel</code></p>
<p>Ahora instalamos un &ldquo;distribution kernel&rdquo;: <code>emerge -G sys-kernel/gentoo-kernel</code> o <code>emerge sys-kernel/gentoo-kernel-bin</code></p>
<p>Actualizando y limpiando: <code>emerge --depclean</code></p>
<p>Agregá <code>USE=&quot;dist-kernel&quot;</code> para reconstruir automáticamente módulos externos instalados por otros paquetes.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge --config sys-kernel/gentoo-kernel-bin   
</span></span></code></pre></div><p>Podes usar <code>sys-kernel/modprobed-db</code> para recolectar información acerca de lo que el sistema requiere: si un control de Xbox es agregado a la instalación <code>modprobed-db</code> va a agregar módulos para ser compilados la próxima vez que el kernel es compilado.</p>
<p>Usá <code>sys-apps/pciutils</code> que contiene el comando <code>lspci</code> para obtener más información del sistema y <code>lsmod</code>.</p>
<p>En el handbook explica como compilar el kernel cosa que no lo vamos a hacer.</p>
<p><strong>Información sobre sistema de archivos</strong>:<br>
Ejecutá <code>blkid</code> para obtener el UUID para construir el <code>/etc/fstab</code> o simplemente ejecutá en otra TTY:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>genfstab /mnt/gentoo &gt;&gt; /mnt/gentoo/etc/fstab
</span></span></code></pre></div><p>En el handbook explica que es cada propiedad del archivo <code>/etc/fstab</code>.</p>
<p>Podes agregar <code>noatime</code> para mejorar el rendimiento en la partición de raiz (XFS): <code>defaults,noatime</code> en <code>/etc/fstab</code>.</p>
<p>Agregá el <strong>hostname</strong>: <code>echo tux &gt; /etc/hostname</code></p>
<p>Instalá NetworkManager:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge -G NetworkManager   
</span></span><span style="display:flex;"><span>rc-update add NetworkManager default   
</span></span></code></pre></div><p>Ahora podes conectarte a una WiFi usando el comando: <code>nmtui</code>.</p>
<p>Si no queres usar <code>NetworkManager</code> podes usar <code>netifrc</code> con <code>wpa_supplicant</code>.<br>
Explicado en el handbook: <a href="https://wiki.gentoo.org/wiki/Handbook:AMD64/Full/Installation#netifrc_.28OpenRC.29">https://wiki.gentoo.org/wiki/Handbook:AMD64/Full/Installation#netifrc_.28OpenRC.29</a></p>
<h6 id="en-el-archivo-etchosts">En el archivo <code>/etc/hosts</code>:</h6>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>127.0.0.1	tux.homenetwork	tux	localhost   
</span></span><span style="display:flex;"><span>::1		tux.homenetwork	tux	localhost   
</span></span></code></pre></div><h6 id="cambiá-la-contraseña-de-root">Cambiá la contraseña de <code>root</code>:</h6>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>passwd   
</span></span></code></pre></div><p>Cuando usas OpenRC con Gentoo el archivo <code>/etc/rc.conf</code> configura los servicios, inicio y apagado de un sistema. Abrí el archivo <code>/etc/rc.conf</code> y disfrutá de todos los comentarios en el archivo. Observá las configuraciones y cambia lo que necesitás.</p>
<h6 id="configurá-el-teclado-en-el-archivo-etcconfdkeymaps">Configurá el teclado en el archivo <code>/etc/conf.d/keymaps</code></h6>
<p>Ahí usé <code>&quot;es&quot;</code> (teclado Español)</p>
<h6 id="en-el-archivo-etcconfdhwclock-configurá-el-reloj">En el archivo <code>/etc/conf.d/hwclock</code> configurá el reloj:</h6>
<p>Si el reloj de hardware no está usando UTC, entonces es necesario usar <code>clock=&quot;local&quot;</code> en el archivo. De lo contrario el sistema mostrará un mal comportamiento de reloj.</p>
<h6 id="system-logger">System logger.</h6>
<p>Sysklogd es recomendado para principiantes.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge -G app-admin/sysklogd   
</span></span><span style="display:flex;"><span>rc-update add sysklogd default   
</span></span></code></pre></div><h6 id="cron-daemon">Cron daemon.</h6>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge sys-process/cronie   
</span></span><span style="display:flex;"><span>rc-update add cronie default   
</span></span></code></pre></div><h6 id="file-indexing-para-búsqueda-rápida">File indexing (para búsqueda rápida)</h6>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge -G --ask sys-apps/mlocate   
</span></span></code></pre></div><h6 id="opcional-shell-para-acceso-remoto">Opcional: Shell para acceso remoto.</h6>
<p>La configuración por defecto de <code>openssh</code> no permite ingresar como <code>root</code>. Por favor cree un usuario <code>no-root</code> y configuralo apropiadamente para permitir el acceso luego de la instalación si es requerido, o ajustá <code>/etc/ssh/sshd_config</code> para permitir acceso <code>root</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>rc-update add sshd default   
</span></span></code></pre></div><h5 id="shell-completion">Shell completion</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge app-shells/bash-completion   
</span></span></code></pre></div><h5 id="sincronicación-horaria">Sincronicación horaria</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge -G net-misc/chrony <span style="color:#75715e"># Con -G fijate si está el binario   </span>
</span></span><span style="display:flex;"><span>rc-update add chronyq default   
</span></span></code></pre></div><p>Es recomendable que <code>sys-block/io-scheduler-udev-rules</code> esté instalado para el correcto comportamiento horario (correct scheduler behavior) por ejemplo con dispositivos <code>nvme</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge sys-block/io-scheduler-udev-rules   
</span></span></code></pre></div><h5 id="herramientas-de-red">Herramientas de red</h5>
<p>No usé Netirfc (<a href="https://wiki.gentoo.org/wiki/Netifrc">https://wiki.gentoo.org/wiki/Netifrc</a>) ni el cliente dhcp, directamente instalé NetworkManager que tiene soporte WiFi (instalación realizada anteriormente).<br>
El handbook sugiere para WiFi: <code>emerge net-wireless/iw net-wireless/wpa_supplicant</code> <strong>pero yo no lo usé</strong>.</p>
<h5 id="eligiendo-el-boot-loader">Eligiendo el <code>boot loader</code></h5>
<p>Podes elegir: GRUB, systemd-boot(usando OpenRC también sirve), EFI Stub.</p>
<h4 id="importante-si-tenes-uefi-directamente-podes-usar-efi-stub-porque-uefi-no-necesita-grub-para-bootear-grub-es-un-bootloader-secundario-grub-es-cómodo-ya-que-con-os-prober-te-permite-agregar-otros-sistemas-operativos">Importante: Si tenes UEFI directamente podes usar EFI STUB porque UEFI no necesita Grub para bootear. Grub es un bootloader secundario. Grub es cómodo ya que con <code>os-prober</code> te permite agregar otros sistemas operativos.</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge -G sys-boot/grub   
</span></span></code></pre></div><h5 id="usando-grub-como-boot-loader">Usando <code>GRUB</code> como boot loader</h5>
<p>Uso la opción <code>--removable</code> porque en algunas placas madres con pobres implementaciones UEFI parece que solo funcionan con el directorio <code>/BOOT/BOOT</code> para el archivo <code>.EFI</code>. El instalador GRUB crea el <code>.EFI</code> archivo en esa ubicación automáticamente agregando la opción <code>--removable</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>grub-install --target<span style="color:#f92672">=</span>x86_64-efi --efi-directory<span style="color:#f92672">=</span>/boot --removable   
</span></span></code></pre></div><h6 id="si-instalaste-el-binario-de-grub-ahora-lo-tendrás-que-compilar-porque-el-binario-de-grub-no-posee-la-banderause-flag-">Si instalaste el binario de <code>GRUB</code> ahora lo tendrás que compilar porque el <strong>binario de GRUB no posee la bandera(USE flag) <code>mount</code> habilitada</strong>.</h6>
<p>En el archivo <code>/etc/portage/package.use/os-prober</code> agregá:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt;<span style="color:#f92672">=</span>sys-boot/grub-2.12-r7 mount   
</span></span></code></pre></div><p>Instalamos OS-PROBER para detectar otras distros.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo emerge os-prober    
</span></span></code></pre></div><p>En el archivo <code>/etc/default/grub</code> agregá:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>GRUB_DISABLE_OS_PROBER<span style="color:#f92672">=</span>false   
</span></span></code></pre></div><p>Y ahora:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>grub-mkconfig -o /boot/grub/grub.cfg   
</span></span></code></pre></div><p>En el handbook sugería usar: <code>grub-mkconfig -o /efi/EFI/Gentoo/grub.cfg</code> pero yo usé la partición <code>/boot</code> (explicado anteriormente).</p>
<p>Hay una discusión sobre esto:</p>
<blockquote>
<p>Edit: 2024-04-19 20:09 (UTC) Handbook &gt; GRUB &gt; UEFI systems grub-install &ndash;efi-directory=/efi installs all files except grubx64.efi in /boot rather than /efi. Is that not a dangerous configuration, that will break for most? I propose recommending <code>grub-install --efi-directory=/efi --boot-directory=/efi</code> instead. <code>grub-mkconfig -o /efi/grub/grub.cfg</code> doesn&rsquo;t run without symlinking /boot into /efi. I also had to update that command from the wiki provided version using -o /boot/grub/grub.cfg</p>
</blockquote>
<h4 id="agregando-un-usuario">Agregando un usuario.</h4>
<p>El handbook fue muy puto acá: me recomendó un comando para crear el usuario pero sin el grupo <code>video</code> y estuve peleando un poco para iniciar <code>sway</code>.</p>
<p><strong>Acá está el comando con el grupo video agregado.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>useradd -m -G users,video,wheel,audio -s /bin/bash esotericwarfare   
</span></span><span style="display:flex;"><span>passwd esotericwarfare   
</span></span></code></pre></div><h5 id="reiniciando-el-sistema">Reiniciando el sistema:</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">(</span>chroot<span style="color:#f92672">)</span> livecd <span style="color:#75715e"># exit   </span>
</span></span><span style="display:flex;"><span>livecd~# cd   
</span></span><span style="display:flex;"><span>livecd~# umount -l /mnt/gentoo/dev<span style="color:#f92672">{</span>/shm,/pts,<span style="color:#f92672">}</span>   
</span></span><span style="display:flex;"><span>livecd~# umount -R /mnt/gentoo   
</span></span><span style="display:flex;"><span>livecd~# reboot   
</span></span></code></pre></div><p>Cuando botea Gentoo, instalé <code>sudo</code> y cambié la configuración de <code>/etc/sudoers</code>.<br>
Agregá al final:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>esotericwarfare ALL<span style="color:#f92672">=(</span>ALL:ALL<span style="color:#f92672">)</span> NOPASSWD:ALL   
</span></span></code></pre></div><p>Y ahora eliminamos la contraseña del usuario <code>root</code> por seguridad:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>passwd -l root   
</span></span><span style="display:flex;"><span>passwd -dl root   
</span></span></code></pre></div><h5 id="eliminamos-los-artifactos-de-instalación">Eliminamos los artifactos de instalación.</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd /   
</span></span><span style="display:flex;"><span>rm stage3-*   
</span></span></code></pre></div><p>Podes consultar cualquier duda en el canal de IRC en LiberaChat: <code>#gentoo</code> o en los foros: <a href="https://forums.gentoo.org">https://forums.gentoo.org</a></p>
<p>Cualquier bug: <a href="https://bugs.gentoo.org">https://bugs.gentoo.org</a></p>
<h5 id="para-buscar-paquetes">Para buscar paquetes</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge -s hola
</span></span></code></pre></div><p>O con <code>eix</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo emerge eix
</span></span><span style="display:flex;"><span>sudo eix-update
</span></span><span style="display:flex;"><span>eix wifite
</span></span></code></pre></div><h3 id="lista-de-programas-que-instalé-luego">Lista de programas que instalé luego</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">### Binarios</span>
</span></span><span style="display:flex;"><span>sudo emerge -G sys-devel/bc btop evince falkon gimp imagemagick jq neomutt pcmanfm-qt samba translate-shell wget wl-clipboard xhost xwayland libreoffice mpv git nim thunderbird grim
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sudo emerge yt-dlp xdg-desktop-portal-wlr xdg-desktop-portal-wlr vim firefox-bin wmenu telegram-desktop-bin qbittorent tor rclone proxychains unrar unzip tor torsocks os-prober
</span></span></code></pre></div><h1 id="actualización-2026">Actualización 2026</h1>
<h3 id="intenté-instalar-gentoo-gnulinux-con-archlinux-dual-boot">Intenté instalar Gentoo GNU/Linux con ArchLinux (dual boot)</h3>
<p>Si después de toda la instalación al bootear ArchLinux te dice: <code>Failed to mount /boot</code> es porque estás usando el kernel de Gentoo para bootear ArchLinux. Tenes que bootear desde le USB Live y montar la particion de ArchLinux y EFI en /mnt/arch y /mnt/arch/boot y arch-chroot /mnt/arch y reinstalar linux <code>pacman -S linux</code>  luego ejecutá <code>grub-mkconfig -o...</code> pero te va a detectar mal Gentoo tenes que crear un archivo en <code>/etc/grub.d/40_custom</code> y agregar manualmente la entrada porque si compartís <code>/boot</code> os-prober no lo detecta bien.</p>
<p>Pero cuando intenté botear ArchLinux me decía que el kernel de Gentoo no tiene soporte VFAT, FAT32.
Me olvidé de agregar <code>&quot;dist-kernel&quot;</code>.</p>
<p><code>emerge gentoo-kernel-bin</code> no funcionó porque no trae soporte para montar vfat en boot así que no podía bootear mi ArchLinux XD</p>
<p>Tuve que ejecutar:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge sys-kernel/gentoo-sources
</span></span><span style="display:flex;"><span>eselect kernel list
</span></span><span style="display:flex;"><span>zcat /proc/config.gz | tee /usr/src/linux/.config
</span></span><span style="display:flex;"><span>cd /usr/src/linux
</span></span><span style="display:flex;"><span>make menuconfig
</span></span></code></pre></div><p>Acá mirá como compilé el kernel en Kiss Linux.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>CONFIG_FAT_FS<span style="color:#f92672">=</span>y
</span></span><span style="display:flex;"><span>CONFIG_VFAT_FS<span style="color:#f92672">=</span>y
</span></span><span style="display:flex;"><span>make -j<span style="color:#66d9ef">$(</span>nproc<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>make modules_install
</span></span><span style="display:flex;"><span>make install
</span></span><span style="display:flex;"><span>grub-mkconfig -o /boot...
</span></span></code></pre></div><p>Intenté separar las particiones en <code>/boot</code> y <code>/boot/efi</code> pero no funcionó. Hice el formateo de <code>/boot</code> en ext4 y <code>/boot/efi</code> en vfat pero no funcionó igual no pude bootear archlinux.</p>
<p>Encima después de hacer todo eso tuve que reinstalar <code>gentoo-kernel-bin</code> pero igual no funcionó tuve que recompilar el kernel. Mientras compilaba el kernel usé los binarios de archlinux (hice un chroot).</p>
<p>Luego me dí cuenta(me lo dijo Claude AI) que no era necesario bootear montando la partición <code>/boot</code>, así que la saqué del <code>/etc/fstab</code> y boteo archlinux.</p>
<h4 id="esto-hice-para-repararlo">Esto hice para repararlo:</h4>
<p>Desde Gentoo monté <code>/boot</code> corrí grub-install (creo que no era necesario) e instalé gentoo-kernel-bin con <code>/boot</code> montado al terminar de instalar <code>gentoo-kernel-bin</code> me instaló estos archivos: <code>vmlinuz-6.18.2-p1-gentoo-dist, System.map-6.18.2-p1-gentoo-dist, initramfs-6.18.2-p1-gentoo-dist.img</code>.</p>
<p>Luego desde ArchLinux USB Live monté la partición de ArchLinux con <code>arch-chroot</code> y monté el <code>/boot</code> en <code>/mnt/arch/boot</code> y ejecuté <code>sudo pacman -S linux</code> luego me copió estos archivos al <code>/boot</code>: <code>vmlinuz-linux initramfs-linux.img</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>grub-install --target<span style="color:#f92672">=</span>x86_64-efi --efi-directory<span style="color:#f92672">=</span>/boot --removable   
</span></span><span style="display:flex;"><span>mkdir /dev/sda4 /mnt/gentoo <span style="color:#75715e"># Para que lo detecte.</span>
</span></span><span style="display:flex;"><span>grub-mkconfig -o /boot/grub/grub.cfg   
</span></span></code></pre></div><hr>
<p>En el proceso me quedo una particion como <code>swap</code> cambie la etiqueta de esta forma (estaba formateado como ext4 no me equivoque).</p>
<p>Para cambiar el tipo de partición de swap a Linux filesystem en la tabla de particiones GPT, puedes usar <code>fdisk</code> o <code>gdisk</code>. Te muestro ambas opciones:</p>
<h2 id="usando-fdisk">Usando fdisk</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo fdisk /dev/sda
</span></span></code></pre></div><p>Luego dentro de fdisk:</p>
<ol>
<li>Presiona <code>t</code> (para cambiar el tipo)</li>
<li>Escribe <code>3</code> (número de partición)</li>
<li>Escribe <code>20</code> o busca el código con <code>L</code> (Linux filesystem)</li>
<li>Presiona <code>w</code> para escribir los cambios y salir</li>
</ol>
<hr>
<p><code>grub-mkconfig</code> detecta mi particion pero me pone mal el parametro en el <code>/boot/grub/grub.cfg</code> archlinux esta bien pero gentoo no</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">### BEGIN /etc/grub.d/30_os-prober ###</span>
</span></span><span style="display:flex;"><span>menuentry <span style="color:#e6db74">&#39;Gentoo Linux (on /dev/sda3)&#39;</span> --class gentoo --class gnu-linux --class gnu --class os $menuentry_id_option <span style="color:#e6db74">&#39;osprober-gnulinux-simple-78b556fb-5a81-40ab-b8f2-29d5527e3120&#39;</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        insmod part_gpt
</span></span><span style="display:flex;"><span>        insmod fat
</span></span><span style="display:flex;"><span>        set root<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;hd0,gpt1&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> x$feature_platform_search_hint <span style="color:#f92672">=</span> xy <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>          search --no-floppy --fs-uuid --set<span style="color:#f92672">=</span>root --hint-bios<span style="color:#f92672">=</span>hd0,gpt1 --hint-efi<span style="color:#f92672">=</span>hd0,gpt1 --hint-baremetal<span style="color:#f92672">=</span>ahci0,gpt1  BE8B-209C
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>          search --no-floppy --fs-uuid --set<span style="color:#f92672">=</span>root BE8B-209C
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>        linux /vmlinuz-linux root<span style="color:#f92672">=</span>UUID<span style="color:#f92672">=</span>9f4c187a-f57d-4686-805d-89d82f99e536 rw loglevel<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span> quiet
</span></span><span style="display:flex;"><span>        initrd /initramfs-linux.img
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>pero no deberia usar vmlinuz ni initramfs ese es el de archlinux deberia usar estos:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>I<span style="color:#f92672">]</span> esotericwarfare@arch ~&gt; ls /boot
</span></span><span style="display:flex;"><span>config-6.18.2-p1-gentoo-dist  grub                                 initramfs-linux.img               vmlinuz-6.18.2-p1-gentoo-dist
</span></span><span style="display:flex;"><span>EFI                           initramfs-6.18.2-p1-gentoo-dist.img  System.map-6.18.2-p1-gentoo-dist  vmlinuz-linux
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>I<span style="color:#f92672">]</span> esotericwarfare@arch ~&gt;
</span></span></code></pre></div><h3 id="solucion">Solucion</h3>
<p>Los archivos de Gentoo están en <code>/boot</code> de la partición EFI (que es compartida), no en <code>/dev/sda3/boot</code>.</p>
<p>Aquí está la entrada correcta para Gentoo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo vim /etc/grub.d/40_custom
</span></span></code></pre></div><h4 id="agrega-esto-si-cambiás-la-particion-tenes-que-cambiar-el-uuid">Agrega esto (si cambiás la particion tenes que cambiar el UUID).</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>menuentry <span style="color:#e6db74">&#39;Gentoo Linux&#39;</span> --class gentoo --class gnu-linux --class gnu --class os <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    insmod part_gpt
</span></span><span style="display:flex;"><span>    insmod ext2
</span></span><span style="display:flex;"><span>    set root<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;hd0,gpt3&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> x$feature_platform_search_hint <span style="color:#f92672">=</span> xy <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>      search --no-floppy --fs-uuid --set<span style="color:#f92672">=</span>root --hint-bios<span style="color:#f92672">=</span>hd0,gpt3 --hint-efi<span style="color:#f92672">=</span>hd0,gpt3 --hint-baremetal<span style="color:#f92672">=</span>ahci0,gpt3  78b556fb-5a81-40ab-b8f2-29d5527e3120
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>      search --no-floppy --fs-uuid --set<span style="color:#f92672">=</span>root 78b556fb-5a81-40ab-b8f2-29d5527e3120
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>    linux <span style="color:#f92672">(</span>hd0,gpt1<span style="color:#f92672">)</span>/vmlinuz-6.18.2-p1-gentoo-dist root<span style="color:#f92672">=</span>UUID<span style="color:#f92672">=</span>78b556fb-5a81-40ab-b8f2-29d5527e3120 rw
</span></span><span style="display:flex;"><span>    initrd <span style="color:#f92672">(</span>hd0,gpt1<span style="color:#f92672">)</span>/initramfs-6.18.2-p1-gentoo-dist.img
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>La clave es que el kernel y el initramfs están en <strong>(hd0,gpt1)</strong> que es tu partición EFI <code>/dev/sda1</code>, pero el root filesystem es <strong>/dev/sda3</strong>.</p>
<p>Luego regenera grub:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo grub-mkconfig -o /boot/grub/grub.cfg
</span></span></code></pre></div><p>Esto debería crear la entrada correcta apuntando a los archivos de Gentoo que están en la partición EFI compartida.</p>
<h3 id="os-prober-falla-cuando-tenes-compartido-el-boot-segun-claude-ai">Os prober falla cuando tenes compartido el /boot segun Claude AI</h3>
<p>Sí, <strong>debería ser automático</strong>, pero <code>os-prober</code> tiene limitaciones y a veces falla en detectar correctamente las configuraciones. En tu caso específico:</p>
<h2 id="por-qué-falló-os-prober">Por qué falló os-prober:</h2>
<ol>
<li>
<p><strong>Kernel en partición EFI compartida</strong>: <code>os-prober</code> detectó que Gentoo está en <code>/dev/sda3</code>, pero no se dio cuenta de que el kernel de Gentoo está en <code>/dev/sda1</code> (la partición EFI compartida). Asumió que el kernel estaría en <code>/boot</code> dentro de <code>/dev/sda3</code>.</p>
</li>
<li>
<p><strong>Encontró kernels de Arch en /boot</strong>: Cuando montó la partición EFI (que está en <code>/boot</code> de Arch), encontró <code>vmlinuz-linux</code> e <code>initramfs-linux.img</code> y los usó por defecto para la entrada de Gentoo.</p>
</li>
<li>
<p><strong>Configuración de dual-boot compleja</strong>: Tener ambos sistemas compartiendo la misma partición EFI con diferentes kernels confunde a <code>os-prober</code>, que está diseñado para casos más simples donde cada distro tiene su <code>/boot</code> separado.</p>
</li>
</ol>
<h2 id="esto-es-común-cuando">Esto es común cuando:</h2>
<ul>
<li>Compartes <code>/boot</code> (EFI) entre múltiples distros</li>
<li>Los nombres de kernel no siguen convenciones estándar</li>
<li>Gentoo usa kernels compilados manualmente con nombres personalizados</li>
</ul>
<h2 id="alternativas-para-hacerlo-más-automático">Alternativas para hacerlo más automático:</h2>
<p>Si quieres que sea más automático en el futuro, podrías:</p>
<ul>
<li>Usar <code>grub-customizer</code> (interfaz gráfica)</li>
<li>Mantener las entradas manuales en <code>/etc/grub.d/40_custom</code> (lo más confiable)</li>
<li>Configurar Gentoo con su propio <code>/boot</code> en <code>/dev/sda3/boot</code> en lugar de usar la EFI compartida</li>
</ul>
<p>En resumen: <strong>sí debería ser automático, pero tu configuración es más compleja de lo que os-prober maneja bien</strong>.</p>
<h1 id="recomendaciones-de-claude-ai-de-software-alternativo">Recomendaciones de Claude AI de software alternativo.</h1>
<p>Aquí están las alternativas <strong>ligeras</strong> para reducir tiempos de compilación en Gentoo:</p>
<h2 id="alternativas-ligeras">Alternativas Ligeras</h2>
<h3 id="navegadores-con-javascript">Navegadores con JavaScript</h3>
<ul>
<li><strong>netsurf</strong> - Muy ligero, tiene JavaScript básico</li>
<li><strong>dillo</strong> (ya lo tienes) - Sin JS pero ultra rápido</li>
<li><strong>links2</strong> con <code>-g</code> - Modo gráfico, sin JS pero mejor que w3m</li>
<li><strong>surf</strong> - Basado en webkit, minimalista</li>
<li><strong>qutebrowser</strong> - Usa QtWebEngine (compila, pero menos que Firefox/Chromium)</li>
</ul>
<h3 id="alternativas-a-mpv-más-ligeras">Alternativas a MPV (más ligeras)</h3>
<ul>
<li><strong>mplayer</strong> - Clásico, menos dependencias</li>
<li><strong>vlc</strong> - Opcional, pero compila menos que mpv con todas las features</li>
<li><strong>ffplay</strong> (viene con ffmpeg) - Minimalista extremo</li>
</ul>
<h3 id="alternativas-a-samba">Alternativas a Samba</h3>
<ul>
<li><strong>NFS</strong> (nfs-utils) - Protocolo nativo Unix/Linux, mucho más simple</li>
<li><strong>SSHFS</strong> (fuse-sshfs) - Compartir carpetas vía SSH</li>
<li><strong>syncthing</strong> - P2P, sin servidor central</li>
<li><strong>rsync</strong> vía SSH - Para transferencias puntuales (ya lo tienes)</li>
</ul>
<h3 id="otras-optimizaciones">Otras Optimizaciones</h3>
<p><strong>Puedes eliminar/simplificar:</strong></p>
<ul>
<li><del>chromium</del> (tarda HORAS) → netsurf o mantén firefox si es crítico</li>
<li><del>obs-studio</del> → ffmpeg (ya lo mencionaste) + wf-recorder para Wayland</li>
<li><del>kdenlive</del> → <strong>openshot</strong> o <strong>shotcut</strong> (más ligeros)</li>
<li><del>libreoffice</del> → <strong>abiword</strong> + <strong>gnumeric</strong> (mucho más ligeros)</li>
<li><del>gimp</del> → <strong>mtpaint</strong> o <strong>feh</strong> + imagemagick para edición básica</li>
<li><del>thunderbird</del> → Ya tienes neomutt (perfecto)</li>
<li><del>qemu-full</del> → qemu con menos targets específicos</li>
</ul>
<h3 id="para-gentoo-específicamente">Para Gentoo específicamente</h3>
<p>En <code>/etc/portage/make.conf</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Usa binarios precompilados para los paquetes más pesados</span>
</span></span><span style="display:flex;"><span>EMERGE_DEFAULT_OPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;--binpkg-respect-use=y --getbinpkg=y&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Reduce paralelismo si te quedas sin RAM</span>
</span></span><span style="display:flex;"><span>MAKEOPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-j4&#34;</span>  <span style="color:#75715e"># ajusta según tu CPU</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># USE flags minimalistas</span>
</span></span><span style="display:flex;"><span>USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-X -gtk -qt5 -gnome -kde minimal&#34;</span>
</span></span></code></pre></div><p><strong>Paquetes que puedes usar binarios en Gentoo:</strong></p>
<ul>
<li>Firefox/Chromium (disponibles como <code>firefox-bin</code>, <code>chromium-bin</code>)</li>
<li>Rust toolchain</li>
<li>LLVM/Clang</li>
</ul>
<h3 id="respuesta-a-tu-setup-específico">Respuesta a tu setup específico</h3>
<p><strong>Para JavaScript ligero:</strong> <code>netsurf</code> o <code>surf</code> son tus mejores opciones</p>
<p><strong>Para Samba:</strong> Si es para compartir archivos con Windows → mantén samba. Si es solo Linux-Linux → usa <strong>NFS</strong> o <strong>SSHFS</strong></p>
<p><strong>Para MPV:</strong> <code>mplayer</code> o simplemente usa <code>ffplay</code> para casos básicos</p>
<p>¿Qué tipo de uso le das a samba y mpv? Te puedo dar una recomendación más específica.</p>
<hr>
<p>El problema es que Gentoo compila optimizado para tu CPU específica, pero necesitas configurarlo correctamente. Con un <strong>Intel Celeron N2806</strong> (Bay Trail, arquitectura Silvermont), aquí está la configuración óptima:</p>
<h2 id="configuración-para-etcportagemakeconf">Configuración para <code>/etc/portage/make.conf</code></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># CPU específica para Intel Celeron N2806 (Bay Trail)</span>
</span></span><span style="display:flex;"><span>COMMON_FLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-march=silvermont -O2 -pipe&#34;</span>
</span></span><span style="display:flex;"><span>CFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>COMMON_FLAGS<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>CXXFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>COMMON_FLAGS<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>FCFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>COMMON_FLAGS<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>FFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>COMMON_FLAGS<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Tu CPU tiene 2 cores, usa -j3 (cores + 1)</span>
</span></span><span style="display:flex;"><span>MAKEOPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-j3 -l2&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Video Drivers para Intel Bay Trail</span>
</span></span><span style="display:flex;"><span>VIDEO_CARDS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;intel i965&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Input devices</span>
</span></span><span style="display:flex;"><span>INPUT_DEVICES<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;libinput&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># USE flags mínimos (ajusta según necesites)</span>
</span></span><span style="display:flex;"><span>USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;X alsa pulseaudio -gnome -kde -systemd minimal&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Licencias aceptadas</span>
</span></span><span style="display:flex;"><span>ACCEPT_LICENSE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;*&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Para ahorrar espacio</span>
</span></span><span style="display:flex;"><span>FEATURES<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;parallel-fetch candy&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Locale</span>
</span></span><span style="display:flex;"><span>L10N<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;en es&#34;</span>
</span></span></code></pre></div><h2 id="por-qué-compila-para-amd">Por qué compila para AMD</h2>
<p>Probablemente tu <code>make.conf</code> tiene:</p>
<ul>
<li><code>-march=native</code> → Esto <strong>debería</strong> funcionar, pero a veces detecta mal</li>
<li><code>-march=x86-64</code> → Genérico, no optimizado</li>
<li>Algún USE flag con <code>video_cards_amdgpu</code> o <code>video_cards_radeon</code></li>
</ul>
<h2 id="verificación">Verificación</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Ver qué arquitectura está usando</span>
</span></span><span style="display:flex;"><span>gcc -march<span style="color:#f92672">=</span>native -Q --help<span style="color:#f92672">=</span>target | grep march
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Debería mostrar: -march= silvermont</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Ver USE flags de video</span>
</span></span><span style="display:flex;"><span>emerge --info | grep VIDEO_CARDS
</span></span></code></pre></div><h2 id="advertencia-tu-hardware-es-muy-limitado">Advertencia: Tu Hardware es MUY limitado</h2>
<p><strong>Celeron N2806 + 3.7GB RAM</strong> es muy débil para compilar en Gentoo. Recomendaciones:</p>
<h3 id="1-usa-stage3-precompilado">1. Usa Stage3 Precompilado</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Al instalar, usa stage3 con binarios</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># https://www.gentoo.org/downloads/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># En make.conf agrega:</span>
</span></span><span style="display:flex;"><span>EMERGE_DEFAULT_OPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;--binpkg-respect-use=y --getbinpkg=y&#34;</span>
</span></span><span style="display:flex;"><span>FEATURES<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>FEATURES<span style="color:#e6db74">}</span><span style="color:#e6db74"> getbinpkg&#34;</span>
</span></span></code></pre></div><h3 id="2-cross-compile-desde-otra-máquina">2. Cross-Compile desde otra máquina</h3>
<p>Si tienes otra PC más potente, compila ahí y copia los binarios.</p>
<h3 id="3-usa-distcc-compilación-distribuida">3. Usa distcc (compilación distribuida)</h3>
<p>Si tienes otra máquina en la red.</p>
<h3 id="4-alternativa-más-realista-void-linux">4. Alternativa más realista: <strong>Void Linux</strong></h3>
<p>Con tu hardware, considera:</p>
<ul>
<li><strong>Void Linux</strong> → Binarios precompilados, musl/glibc, muy minimalista</li>
<li><strong>Alpine Linux</strong> → Ultra ligero, musl libc</li>
<li><strong>Artix Linux</strong> → Arch sin systemd, binarios precompilados</li>
</ul>
<h3 id="paquetes-que-no-compiles-en-tu-celeron">Paquetes que NO compiles en tu Celeron</h3>
<p>Estos te matarán (horas/días):</p>
<ul>
<li>❌ chromium (8-12 horas)</li>
<li>❌ firefox (4-8 horas) → usa <code>firefox-bin</code></li>
<li>❌ libreoffice (6-10 horas)</li>
<li>❌ qtwebengine (8-15 horas)</li>
<li>❌ rust (2-4 horas)</li>
<li>❌ llvm/clang (4-8 horas)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Instala versiones binarias</span>
</span></span><span style="display:flex;"><span>emerge firefox-bin chromium-bin
</span></span></code></pre></div><h2 id="mi-recomendación-honesta">Mi recomendación honesta</h2>
<p>Con un Celeron N2806 y 3.7GB RAM:</p>
<ol>
<li><strong>Gentoo NO es la mejor opción</strong> para uso diario</li>
<li>Si quieres aprender Gentoo → VM en otra máquina</li>
<li>Para este hardware → <strong>Void Linux</strong> o <strong>Artix</strong> son perfectos</li>
<li>Si insistes en Gentoo → Usa <strong>máximo binarios</strong> y crossdev</li>
</ol>
<p>¿Quieres que te ayude a configurar Void Linux en su lugar? Es igual de minimalista pero con binarios&mdash;</p>
<p>El problema es que Gentoo compila optimizado para tu CPU específica, pero necesitas configurarlo correctamente. Con un <strong>Intel Celeron N2806</strong> (Bay Trail, arquitectura Silvermont), aquí está la configuración óptima:</p>
<h2 id="configuración-para-etcportagemakeconf-1">Configuración para <code>/etc/portage/make.conf</code></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># CPU específica para Intel Celeron N2806 (Bay Trail)</span>
</span></span><span style="display:flex;"><span>COMMON_FLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-march=silvermont -O2 -pipe&#34;</span>
</span></span><span style="display:flex;"><span>CFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>COMMON_FLAGS<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>CXXFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>COMMON_FLAGS<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>FCFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>COMMON_FLAGS<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>FFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>COMMON_FLAGS<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Tu CPU tiene 2 cores, usa -j3 (cores + 1)</span>
</span></span><span style="display:flex;"><span>MAKEOPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-j3 -l2&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Video Drivers para Intel Bay Trail</span>
</span></span><span style="display:flex;"><span>VIDEO_CARDS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;intel i965&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Input devices</span>
</span></span><span style="display:flex;"><span>INPUT_DEVICES<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;libinput&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># USE flags mínimos (ajusta según necesites)</span>
</span></span><span style="display:flex;"><span>USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;X alsa pulseaudio -gnome -kde -systemd minimal&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Licencias aceptadas</span>
</span></span><span style="display:flex;"><span>ACCEPT_LICENSE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;*&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Para ahorrar espacio</span>
</span></span><span style="display:flex;"><span>FEATURES<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;parallel-fetch candy&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Locale</span>
</span></span><span style="display:flex;"><span>L10N<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;en es&#34;</span>
</span></span></code></pre></div><h2 id="por-qué-compila-para-amd-1">Por qué compila para AMD</h2>
<p>Probablemente tu <code>make.conf</code> tiene:</p>
<ul>
<li><code>-march=native</code> → Esto <strong>debería</strong> funcionar, pero a veces detecta mal</li>
<li><code>-march=x86-64</code> → Genérico, no optimizado</li>
<li>Algún USE flag con <code>video_cards_amdgpu</code> o <code>video_cards_radeon</code></li>
</ul>
<h2 id="verificación-1">Verificación</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Ver qué arquitectura está usando</span>
</span></span><span style="display:flex;"><span>gcc -march<span style="color:#f92672">=</span>native -Q --help<span style="color:#f92672">=</span>target | grep march
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Debería mostrar: -march= silvermont</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Ver USE flags de video</span>
</span></span><span style="display:flex;"><span>emerge --info | grep VIDEO_CARDS
</span></span></code></pre></div><h2 id="advertencia-tu-hardware-es-muy-limitado-1">Advertencia: Tu Hardware es MUY limitado</h2>
<p><strong>Celeron N2806 + 3.7GB RAM</strong> es muy débil para compilar en Gentoo. Recomendaciones:</p>
<h3 id="1-usa-stage3-precompilado-1">1. Usa Stage3 Precompilado</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Al instalar, usa stage3 con binarios</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># https://www.gentoo.org/downloads/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># En make.conf agrega:</span>
</span></span><span style="display:flex;"><span>EMERGE_DEFAULT_OPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;--binpkg-respect-use=y --getbinpkg=y&#34;</span>
</span></span><span style="display:flex;"><span>FEATURES<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>FEATURES<span style="color:#e6db74">}</span><span style="color:#e6db74"> getbinpkg&#34;</span>
</span></span></code></pre></div><h3 id="2-cross-compile-desde-otra-máquina-1">2. Cross-Compile desde otra máquina</h3>
<p>Si tienes otra PC más potente, compila ahí y copia los binarios.</p>
<h3 id="3-usa-distcc-compilación-distribuida-1">3. Usa distcc (compilación distribuida)</h3>
<p>Si tienes otra máquina en la red.</p>
<h3 id="4-alternativa-más-realista-void-linux-1">4. Alternativa más realista: <strong>Void Linux</strong></h3>
<p>Con tu hardware, considera:</p>
<ul>
<li><strong>Void Linux</strong> → Binarios precompilados, musl/glibc, muy minimalista</li>
<li><strong>Alpine Linux</strong> → Ultra ligero, musl libc</li>
<li><strong>Artix Linux</strong> → Arch sin systemd, binarios precompilados</li>
</ul>
<h3 id="paquetes-que-no-compiles-en-tu-celeron-1">Paquetes que NO compiles en tu Celeron</h3>
<p>Estos te matarán (horas/días):</p>
<ul>
<li>❌ chromium (8-12 horas)</li>
<li>❌ firefox (4-8 horas) → usa <code>firefox-bin</code></li>
<li>❌ libreoffice (6-10 horas)</li>
<li>❌ qtwebengine (8-15 horas)</li>
<li>❌ rust (2-4 horas)</li>
<li>❌ llvm/clang (4-8 horas)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Instala versiones binarias</span>
</span></span><span style="display:flex;"><span>emerge firefox-bin chromium-bin
</span></span></code></pre></div><h2 id="mi-recomendación-honesta-1">Mi recomendación honesta</h2>
<p>Con un Celeron N2806 y 3.7GB RAM:</p>
<ol>
<li><strong>Gentoo NO es la mejor opción</strong> para uso diario</li>
<li>Si quieres aprender Gentoo → VM en otra máquina</li>
<li>Para este hardware → <strong>Void Linux</strong> o <strong>Artix</strong> son perfectos</li>
<li>Si insistes en Gentoo → Usa <strong>máximo binarios</strong> y crossdev</li>
</ol>
<p>¿Quieres que te ayude a configurar Void Linux en su lugar? Es igual de minimalista pero con binarios..</p>
<hr>
<hr>
<h1 id="guía-de-optimización-gentoo---celeron-n2806">Guía de Optimización Gentoo - Celeron N2806</h1>
<h2 id="-problemas-críticos-detectados">🚨 PROBLEMAS CRÍTICOS DETECTADOS</h2>
<h3 id="1-video_">1. <strong>VIDEO_CARDS incorrectos</strong></h3>
<p>Tu <code>make.conf</code> tiene:</p>
<pre tabindex="0"><code>VIDEO_CARDS=&#34;amdgpu fbdev intel nouveau radeon radeonsi vesa dummy&#34;
</code></pre><p><strong>INCORRECTO</strong> - Estás compilando drivers AMD/Nouveau que NO USAS.</p>
<p><strong>Tu CPU tiene Intel HD Graphics (Bay Trail/Gen7)</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>VIDEO_CARDS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;intel i965&#34;</span>
</span></span></code></pre></div><h3 id="2-profile-desktop-cuando-usás-tty-puro">2. <strong>Profile Desktop cuando usás TTY puro</strong></h3>
<pre tabindex="0"><code>[3] default/linux/amd64/23.0/desktop (stable) *
</code></pre><p><strong>CAMBIAR A:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>eselect profile set <span style="color:#ae81ff">1</span>  <span style="color:#75715e"># default/linux/amd64/23.0</span>
</span></span></code></pre></div><p>El profile desktop instala X11, GTK, Qt - 100% innecesario para TTY.</p>
<h3 id="3-muchos-paquetes-gui-instalados">3. <strong>Muchos paquetes GUI instalados</strong></h3>
<p>Detectados en tu sistema:</p>
<ul>
<li><code>x11-libs/*</code> (todo X11)</li>
<li><code>kde-frameworks/*</code></li>
<li><code>gnome-base/*</code></li>
<li><code>dev-qt/*</code> (Qt5/Qt6)</li>
<li><code>x11-apps/*</code></li>
</ul>
<p><strong>Estos NO deberían estar en TTY puro.</strong></p>
<h3 id="4-llvm-compilado-localmente-crítico">4. <strong>LLVM compilado localmente (CRÍTICO)</strong></h3>
<p>Tienes <code>llvm-core/llvm</code> y <code>llvm-core/clang</code> - esto tarda 8-12 horas en compilar.</p>
<p><strong>NUNCA compiles LLVM en este CPU.</strong></p>
<hr>
<h2 id="-pasos-inmediatos">✅ PASOS INMEDIATOS</h2>
<h3 id="1-cambiar-profile">1. Cambiar Profile</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>eselect profile set <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><h3 id="2-limpiar-use-flags-globales">2. Limpiar USE flags globales</h3>
<p>Editar <code>/etc/portage/make.conf</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;dist-kernel minimal -X -gtk -qt5 -qt6 -kde -gnome -wayland -dbus&#34;</span>
</span></span></code></pre></div><h3 id="3-forzar-binarios-para-paquetes-pesados">3. Forzar binarios para paquetes pesados</h3>
<p>Crear <code>/etc/portage/package.env</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Forzar binarios</span>
</span></span><span style="display:flex;"><span>llvm-core/llvm nobuild.conf
</span></span><span style="display:flex;"><span>llvm-core/clang nobuild.conf
</span></span><span style="display:flex;"><span>dev-lang/rust nobuild.conf
</span></span><span style="display:flex;"><span>sys-devel/gcc nobuild.conf
</span></span><span style="display:flex;"><span>dev-qt/qtwebengine nobuild.conf
</span></span></code></pre></div><p>Crear <code>/etc/portage/env/nobuild.conf</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Rechazar compilación local</span>
</span></span><span style="display:flex;"><span>FEATURES<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>FEATURES<span style="color:#e6db74">}</span><span style="color:#e6db74"> -test&#34;</span>
</span></span><span style="display:flex;"><span>ACCEPT_KEYWORDS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;~amd64&#34;</span>
</span></span></code></pre></div><h3 id="4-instalar-binarios-críticos">4. Instalar binarios críticos</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># LLVM/Clang precompilado</span>
</span></span><span style="display:flex;"><span>emerge --oneshot --getbinpkg llvm-core/llvm llvm-core/clang
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Rust precompilado</span>
</span></span><span style="display:flex;"><span>emerge dev-lang/rust-bin
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Eliminar rust source si existe</span>
</span></span><span style="display:flex;"><span>emerge -C dev-lang/rust
</span></span></code></pre></div><hr>
<h2 id="-paquetes-que-nunca-compilar">🔥 PAQUETES QUE <strong>NUNCA</strong> COMPILAR</h2>
<h3 id="tiempo-de-compilación-estimado-en-tu-cpu">Tiempo de compilación estimado en tu CPU:</h3>
<table>
  <thead>
      <tr>
          <th>Paquete</th>
          <th>Tiempo</th>
          <th>Acción</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>chromium</code></td>
          <td>10-15h</td>
          <td>❌ Imposible</td>
      </tr>
      <tr>
          <td><code>firefox</code></td>
          <td>6-10h</td>
          <td>❌ Usa <code>firefox-bin</code></td>
      </tr>
      <tr>
          <td><code>llvm</code></td>
          <td>8-12h</td>
          <td>❌ Usa binarios</td>
      </tr>
      <tr>
          <td><code>rust</code></td>
          <td>4-6h</td>
          <td>❌ Usa <code>rust-bin</code></td>
      </tr>
      <tr>
          <td><code>qtwebengine</code></td>
          <td>8-12h</td>
          <td>❌ Usa binarios</td>
      </tr>
      <tr>
          <td><code>libreoffice</code></td>
          <td>8-10h</td>
          <td>❌ Evitar o binario</td>
      </tr>
      <tr>
          <td><code>gcc</code></td>
          <td>3-5h</td>
          <td>⚠️ Binario si es posible</td>
      </tr>
      <tr>
          <td><code>webkit-gtk</code></td>
          <td>6-8h</td>
          <td>❌ Evitar</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="-alternativas-ligeras">🎯 ALTERNATIVAS LIGERAS</h2>
<h3 id="navegadores">Navegadores</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># TTY puro</span>
</span></span><span style="display:flex;"><span>emerge www-client/lynx     <span style="color:#75715e"># ~2 min</span>
</span></span><span style="display:flex;"><span>emerge www-client/w3m      <span style="color:#75715e"># ~3 min</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Si necesitas JS básico</span>
</span></span><span style="display:flex;"><span>emerge www-client/netsurf  <span style="color:#75715e"># ~15 min</span>
</span></span></code></pre></div><h3 id="editor">Editor</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Ya tienes vim (bien)</span>
</span></span><span style="display:flex;"><span>emerge app-editors/nano    <span style="color:#75715e"># ~1 min</span>
</span></span></code></pre></div><h3 id="herramientas-de-desarrollo">Herramientas de desarrollo</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Git sin GUI</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;dev-vcs/git -gtk -perl&#34;</span> &gt;&gt; /etc/portage/package.use/dev
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Python sin Tkinter</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;dev-lang/python -tk&#34;</span> &gt;&gt; /etc/portage/package.use/dev
</span></span></code></pre></div><hr>
<h2 id="-optimizaciones-adicionales">🚀 OPTIMIZACIONES ADICIONALES</h2>
<h3 id="1-ccache-recomendado">1. CCACHE (recomendado)</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge dev-util/ccache
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># En make.conf</span>
</span></span><span style="display:flex;"><span>FEATURES<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>FEATURES<span style="color:#e6db74">}</span><span style="color:#e6db74"> ccache&#34;</span>
</span></span><span style="display:flex;"><span>CCACHE_DIR<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/var/cache/ccache&#34;</span>
</span></span><span style="display:flex;"><span>CCACHE_SIZE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;2G&#34;</span>
</span></span></code></pre></div><h3 id="2-tmpfs-para-compilación-si-tienes-ram">2. Tmpfs para compilación (si tienes RAM)</h3>
<p><strong>NO RECOMENDADO con 3.7GB RAM</strong> - usarías swap constantemente.</p>
<h3 id="3-binhost-custom-avanzado">3. Binhost custom (avanzado)</h3>
<p>Si tienes otra máquina más potente:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># En la máquina potente</span>
</span></span><span style="display:flex;"><span>FEATURES<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>FEATURES<span style="color:#e6db74">}</span><span style="color:#e6db74"> buildpkg&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># En tu Celeron</span>
</span></span><span style="display:flex;"><span>PORTAGE_BINHOST<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://192.168.x.x:8080&#34;</span>
</span></span></code></pre></div><h3 id="4-eix-para-búsquedas-rápidas">4. eix para búsquedas rápidas</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge app-portage/eix
</span></span><span style="display:flex;"><span>eix-update
</span></span></code></pre></div><hr>
<h2 id="-estimación-de-tiempos">📊 ESTIMACIÓN DE TIEMPOS</h2>
<h3 id="actualización-del-sistema-completo">Actualización del sistema completo:</h3>
<ul>
<li><strong>Con optimizaciones</strong>: 4-8 horas</li>
<li><strong>Sin optimizaciones</strong>: 24-48 horas</li>
<li><strong>Mundo ideal (100% binarios)</strong>: 1-2 horas</li>
</ul>
<h3 id="primera-instalación-desde-stage3">Primera instalación (desde stage3):</h3>
<ul>
<li><strong>Con profile desktop</strong>: 3-5 días</li>
<li><strong>Con profile minimal + binarios</strong>: 12-24 horas</li>
</ul>
<hr>
<h2 id="-advertencia-final">⚠️ ADVERTENCIA FINAL</h2>
<p>Tu Celeron N2806 es 10 años viejo y muy débil. Gentoo en este hardware es <strong>extremadamente lento</strong> para compilar.</p>
<h3 id="recomendación-sincera">Recomendación sincera:</h3>
<ol>
<li><strong>Si querés aprender Gentoo</strong>: Usa una VM en otra PC</li>
<li><strong>Si querés velocidad</strong>: Usa Void Linux o Alpine</li>
<li><strong>Si insistís en Gentoo</strong>: Usa 90% binarios precompilados</li>
</ol>
<h3 id="void-linux-alternativa-recomendada">Void Linux (alternativa recomendada):</h3>
<ul>
<li>Binarios precompilados</li>
<li>xbps (gestor rápido)</li>
<li>Runit init (más simple que OpenRC)</li>
<li>Musl libc (más ligero)</li>
<li>Instalación: 30 minutos</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Void Linux instalación típica</span>
</span></span><span style="display:flex;"><span>xbps-install vim git lynx alsa-utils
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Total: ~5 minutos</span>
</span></span></code></pre></div><p>vs Gentoo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge vim git lynx alsa-utils
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Total: 2-3 horas (con dependencias)</span>
</span></span></code></pre></div><hr>
<h2 id="-comandos-útiles">🔧 COMANDOS ÚTILES</h2>
<h3 id="ver-qué-se-está-compilando">Ver qué se está compilando</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>genlop -c
</span></span></code></pre></div><h3 id="estimar-tiempo-de-compilación">Estimar tiempo de compilación</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>genlop -pt llvm
</span></span></code></pre></div><h3 id="ver-paquetes-que-tardan-más">Ver paquetes que tardan más</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>genlop -t | sort -k5 -n | tail -20
</span></span></code></pre></div><h3 id="limpiar-sistema">Limpiar sistema</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge --depclean
</span></span><span style="display:flex;"><span>eclean-dist --deep
</span></span><span style="display:flex;"><span>eclean-pkg --deep
</span></span></code></pre></div><h3 id="actualizar-con-binarios">Actualizar con binarios</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge --update --deep --newuse --getbinpkg @world
</span></span></code></pre></div><hr>
<h2 id="-checklist-final">📝 CHECKLIST FINAL</h2>
<ul>
<li><input disabled="" type="checkbox"> Cambiar profile a minimal (no desktop)</li>
<li><input disabled="" type="checkbox"> Corregir VIDEO_CARDS (solo intel i965)</li>
<li><input disabled="" type="checkbox"> Limpiar USE flags globales</li>
<li><input disabled="" type="checkbox"> Forzar binarios para LLVM/Clang/Rust</li>
<li><input disabled="" type="checkbox"> Instalar ccache</li>
<li><input disabled="" type="checkbox"> Eliminar paquetes X11 innecesarios</li>
<li><input disabled="" type="checkbox"> Configurar MAKEOPTS=&quot;-j2 -l2&quot;</li>
<li><input disabled="" type="checkbox"> Usar &ndash;getbinpkg en emerge</li>
<li><input disabled="" type="checkbox"> Considerar seriamente Void Linux</li>
</ul>
<p>¿Querés que te ayude con algún paso específico?</p>
<hr>
<h3 id="mirar-de-openrc-a-systemd-por-los-binarios">Mirar de OpenRC a Systemd (por los binarios)</h3>
<p>Tienes razón, déjame darte una guía más precisa y segura para migrar de OpenRC a systemd en Gentoo.</p>
<h2 id="migración-de-openrc-a-systemd---guía-completa">Migración de OpenRC a systemd - Guía Completa</h2>
<h3 id="paso-1-verifica-tu-perfil-actual-y-elige-uno-con-systemd">Paso 1: Verifica tu perfil actual y elige uno con systemd</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Ver perfil actual y opciones disponibles</span>
</span></span><span style="display:flex;"><span>eselect profile list
</span></span></code></pre></div><p>Busca un perfil que incluya &ldquo;systemd&rdquo; (ejemplo: <code>default/linux/amd64/23.0/desktop/systemd</code> o similar según tu arquitectura).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Cambia al perfil systemd apropiado</span>
</span></span><span style="display:flex;"><span>eselect profile set &lt;número_del_perfil_systemd&gt;
</span></span></code></pre></div><h3 id="paso-2-configura-use-flags-en-makeconf">Paso 2: Configura USE flags en make.conf</h3>
<p>Edita <code>/etc/portage/make.conf</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Asegúrate de tener estos USE flags</span>
</span></span><span style="display:flex;"><span>USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;systemd -elogind -sysv-utils&#34;</span>
</span></span></code></pre></div><p><strong>Importante</strong>: No añadas <code>-consolekit</code> a menos que lo tengas activo (está obsoleto).</p>
<h3 id="paso-3-actualiza-world-con-los-nuevos-use-flags">Paso 3: Actualiza @world con los nuevos USE flags</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Esto reconstruirá paquetes con las nuevas dependencias</span>
</span></span><span style="display:flex;"><span>emerge --ask --verbose --update --deep --newuse @world
</span></span></code></pre></div><p>Este paso instalará systemd y reconstruirá paquetes que necesitan cambiar de elogind a systemd.</p>
<h3 id="paso-4-elimina-los-paquetes-de-openrc-que-conflictúan">Paso 4: Elimina los paquetes de OpenRC que conflictúan</h3>
<p><strong>IMPORTANTE</strong>: No hagas esto hasta después de que el paso 3 haya instalado systemd exitosamente.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Verifica que systemd esté instalado primero</span>
</span></span><span style="display:flex;"><span>emerge --search sys-apps/systemd
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Luego desinstala los paquetes conflictivos</span>
</span></span><span style="display:flex;"><span>emerge --deselect sys-apps/sysvinit
</span></span><span style="display:flex;"><span>emerge --ask --depclean
</span></span></code></pre></div><h3 id="paso-5-configura-el-bootloader-para-usar-systemd">Paso 5: Configura el bootloader para usar systemd</h3>
<p><strong>Para GRUB:</strong></p>
<p>Edita <code>/etc/default/grub</code> y modifica o añade:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>GRUB_CMDLINE_LINUX<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;init=/lib/systemd/systemd&#34;</span>
</span></span></code></pre></div><p>Luego regenera la configuración:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>grub-mkconfig -o /boot/grub/grub.cfg
</span></span></code></pre></div><p><strong>Para systemd-boot u otros</strong>: Consulta la documentación específica.</p>
<h3 id="paso-6-configuración-básica-de-systemd">Paso 6: Configuración básica de systemd</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Establece el hostname</span>
</span></span><span style="display:flex;"><span>hostnamectl set-hostname tu-hostname
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Configura la zona horaria</span>
</span></span><span style="display:flex;"><span>timedatectl set-timezone America/Mexico_City  <span style="color:#75715e"># o tu zona</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Habilita servicios básicos que probablemente necesitas</span>
</span></span><span style="display:flex;"><span>systemctl enable systemd-networkd    <span style="color:#75715e"># O NetworkManager si lo usas</span>
</span></span><span style="display:flex;"><span>systemctl enable systemd-resolved    <span style="color:#75715e"># DNS</span>
</span></span><span style="display:flex;"><span>systemctl enable systemd-timesyncd   <span style="color:#75715e"># NTP</span>
</span></span></code></pre></div><h3 id="paso-7-migra-servicios-de-openrc-a-systemd">Paso 7: Migra servicios de OpenRC a systemd</h3>
<p>Revisa qué servicios tenías habilitados en OpenRC:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Antes de reiniciar, lista servicios de OpenRC</span>
</span></span><span style="display:flex;"><span>rc-update show
</span></span></code></pre></div><p>Habilita los equivalentes en systemd. Ejemplos comunes:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Si usabas NetworkManager</span>
</span></span><span style="display:flex;"><span>systemctl enable NetworkManager
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Si usabas dhcpcd</span>
</span></span><span style="display:flex;"><span>systemctl enable dhcpcd
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Si usabas sshd</span>
</span></span><span style="display:flex;"><span>systemctl enable sshd
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Para interfaz gráfica</span>
</span></span><span style="display:flex;"><span>systemctl enable display-manager  <span style="color:#75715e"># o gdm, sddm, lightdm, etc.</span>
</span></span></code></pre></div><h3 id="paso-8-limpieza-final-antes-de-reiniciar">Paso 8: Limpieza final (ANTES de reiniciar)</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Limpia paquetes huérfanos</span>
</span></span><span style="display:flex;"><span>emerge --ask --depclean
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Verifica que no haya problemas</span>
</span></span><span style="display:flex;"><span>revdep-rebuild
</span></span></code></pre></div><h3 id="paso-9-reinicia">Paso 9: Reinicia</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>reboot
</span></span></code></pre></div><h3 id="paso-10-verificación-post-reinicio">Paso 10: Verificación post-reinicio</h3>
<p>Después de reiniciar, verifica:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Confirma que systemd está corriendo</span>
</span></span><span style="display:flex;"><span>ps --no-headers -o comm <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Debería mostrar &#34;systemd&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Verifica servicios activos</span>
</span></span><span style="display:flex;"><span>systemctl status
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Verifica logs</span>
</span></span><span style="display:flex;"><span>journalctl -b
</span></span></code></pre></div><h2 id="notas-importantes">Notas importantes:</h2>
<ol>
<li><strong>No desinstales OpenRC/sysvinit ANTES de tener systemd funcionando</strong> - podrías dejar tu sistema sin init</li>
<li><strong>Haz un backup o snapshot</strong> antes de empezar</li>
<li><strong>No reinicies hasta completar todos los pasos</strong> - especialmente la configuración del bootloader</li>
<li>Si usas NetworkManager, asegúrate de habilitarlo en systemd antes de reiniciar o podrías perder conectividad de red</li>
<li>El archivo <code>/etc/portage/package.use/</code> que creaste antes para elogind ya no será necesario, puedes eliminarlo después</li>
</ol>
<h2 id="si-algo-sale-mal">Si algo sale mal:</h2>
<p>En el bootloader (GRUB), puedes agregar <code>init=/bin/bash</code> temporalmente para arrancar en modo emergencia y corregir problemas.</p>
<p>emerge &ndash;ask &ndash;verbose &ndash;update &ndash;deep &ndash;newuse @world &ndash;binpkg-respect-use=n</p>
<p>Perfecto, el sistema está listo para la actualización. Aquí está lo que va a pasar:</p>
<h2 id="análisis-de-la-salida">Análisis de la salida</h2>
<p><strong>Buenas noticias:</strong></p>
<ul>
<li>✅ Se van a <strong>instalar 2 paquetes que resuelven conflictos</strong> (los &ldquo;uninstalls&rdquo;)</li>
<li>✅ 45 paquetes binarios disponibles (instalación rápida)</li>
<li>✅ Los conflictos están satisfechos</li>
<li>✅ No hay errores de bloqueo críticos</li>
</ul>
<p><strong>Sobre los binarios ignorados:</strong>
Los binarios ignorados son porque tienen USE flags diferentes a tu configuración actual. Esos paquetes se compilarán desde source en lugar de usar binarios - es normal.</p>
<h2 id="qué-hacer">Qué hacer:</h2>
<h3 id="opción-1-proceder-normalmente-recomendado">Opción 1: Proceder normalmente (Recomendado)</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Yes
</span></span></code></pre></div><p>Esto instalará los paquetes. Los binarios con USE flags incompatibles se compilarán desde source.</p>
<h3 id="opción-2-forzar-uso-de-binarios-más-rápido-pero-menos-preciso">Opción 2: Forzar uso de binarios (más rápido pero menos preciso)</h3>
<p>Si quieres usar los binarios aunque tengan USE flags diferentes:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>No  <span style="color:#75715e"># Cancela primero</span>
</span></span></code></pre></div><p>Luego ejecuta:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge --ask --verbose --update --deep --newuse --binpkg-respect-use<span style="color:#f92672">=</span>n @world
</span></span></code></pre></div><h2 id="después-de-que-termine">Después de que termine:</h2>
<p>Una vez completado exitosamente, continúa con el <strong>Paso 4</strong> de la guía anterior:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Verifica que systemd esté instalado</span>
</span></span><span style="display:flex;"><span>emerge --search sys-apps/systemd
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Limpia paquetes obsoletos</span>
</span></span><span style="display:flex;"><span>emerge --ask --depclean
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Configura GRUB</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Acá hay un problema. Yo ejecuto grub-mkconfig desde archlinux así que no me va a tomar <span style="color:#e6db74">`</span>GRUB_CMDLINE_LINUX<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;init=/usr/lib/systemd/systemd&#34;</span><span style="color:#e6db74">`</span> porque os-prober no detecta, vas a tener que escribirlo manualmente desde <span style="color:#e6db74">`</span>/etc/grub.d/40_custom<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>En vez de hacer esto:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">```</span>bash
</span></span><span style="display:flex;"><span>vim /etc/default/grub  <span style="color:#75715e"># Añade init=/lib/systemd/systemd</span>
</span></span></code></pre></div><p>Hace esto:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vim /etc/grub.d/40_custom
</span></span><span style="display:flex;"><span>menuentry <span style="color:#e6db74">&#39;Gentoo Linux&#39;</span> --class gentoo --class gnu-linux --class gnu --class os <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        insmod part_gpt
</span></span><span style="display:flex;"><span>        insmod ext2
</span></span><span style="display:flex;"><span>        set root<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;hd0,gpt3&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> x$feature_platform_search_hint <span style="color:#f92672">=</span> xy <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>          search --no-floppy --fs-uuid --set<span style="color:#f92672">=</span>root --hint-bios<span style="color:#f92672">=</span>hd0,gpt3 --hint-efi<span style="color:#f92672">=</span>hd0,gpt3 --hint-baremetal<span style="color:#f92672">=</span>ahci0,gpt3  3fe2e015-ef10-4d2f-81b2-ba299be39370
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>          search --no-floppy --fs-uuid --set<span style="color:#f92672">=</span>root 3fe2e015-ef10-4d2f-81b2-ba299be39370
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>        linux <span style="color:#f92672">(</span>hd0,gpt1<span style="color:#f92672">)</span>/vmlinuz-6.18.2-p1-gentoo-dist root<span style="color:#f92672">=</span>UUID<span style="color:#f92672">=</span>3fe2e015-ef10-4d2f-81b2-ba299be39370 rw init<span style="color:#f92672">=</span>/usr/lib/systemd/systemd
</span></span><span style="display:flex;"><span>        initrd <span style="color:#f92672">(</span>hd0,gpt1<span style="color:#f92672">)</span>/initramfs-6.18.2-p1-gentoo-dist.img
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Agregá al final de linux init<span style="color:#f92672">=</span>/usr/lib/systemd/systemd
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>grub-mkconfig -o /boot/grub/grub.cfg
</span></span></code></pre></div><p>Despues de pasar a systemd intente instalar Falkon y me puteaba por &ldquo;Paquete bloqueado&rdquo;.</p>
<p>I can see you&rsquo;re encountering a package conflict in Gentoo between <code>systemd</code> and <code>elogind</code>. This is a common issue when trying to install packages that depend on elogind while your system is configured to use systemd.</p>
<p>The problem is:</p>
<ul>
<li>Your system currently has <strong>systemd</strong> installed (which provides init system and session management)</li>
<li>You&rsquo;re trying to install <strong>falkon</strong> (a web browser), which pulls in dependencies that want <strong>elogind</strong> instead</li>
</ul>
<p><strong>Solution: Reconfigure pipewire and wireplumber to use systemd</strong></p>
<p>Since your system uses systemd, you need to adjust the USE flags for the conflicting packages:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Add these lines to /etc/portage/package.use/pipewire</span>
</span></span><span style="display:flex;"><span>media-video/pipewire -elogind systemd
</span></span><span style="display:flex;"><span>media-video/wireplumber -elogind systemd
</span></span><span style="display:flex;"><span>sys-auth/polkit -elogind systemd
</span></span></code></pre></div><p>Then try the installation again:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge --ask --verbose www-client/falkon
</span></span></code></pre></div><p><strong>Alternative: If you prefer a simpler approach</strong></p>
<p>You can also add this to your global USE flags in <code>/etc/portage/make.conf</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;systemd -elogind&#34;</span>
</span></span></code></pre></div><p>This tells Portage to prefer systemd over elogind system-wide.</p>
<p><strong>Why this happens:</strong></p>
<ul>
<li>Gentoo allows you to choose between systemd and elogind for session management</li>
<li>Some packages can work with either one, but both cannot be installed simultaneously</li>
<li>The binary packages you&rsquo;re trying to install were compiled with elogind support, but your system expects systemd</li>
</ul>
<p>After making these changes, the dependency resolver should be able to find a compatible solution without the blocking conflict.</p>
<p>Option 2: Request different binaries
If you&rsquo;re using Gentoo&rsquo;s official binpkgs or a custom binary host, you need binaries compiled with systemd -elogind instead. Check:</p>
<p>What binary package repository are you using? (/etc/portage/binrepos.conf)
Can you switch to a systemd-based binary repository?</p>
<p>arch / # cat /etc/portage/binrepos.conf/gentoobinhost.conf</p>
<h1 id="these-settings-were-set-by-the-catalyst-build-script-that-automatically">These settings were set by the catalyst build script that automatically</h1>
<h1 id="built-this-stage">built this stage.</h1>
<h1 id="please-consider-using-a-local-mirror">Please consider using a local mirror.</h1>
<p>[gentoobinhost]
priority = 1
sync-uri = <a href="https://distfiles.gentoo.org/releases/amd64/binpackages/23.0/x86-64">https://distfiles.gentoo.org/releases/amd64/binpackages/23.0/x86-64</a>
arch / #</p>
<p>Ah, now I see the issue! You&rsquo;re using Gentoo&rsquo;s official binary package repository for the <strong>23.0/x86-64 profile</strong>, which is OpenRC-based (uses elogind), but your system is configured for systemd.</p>
<p><strong>Solution: Switch to the systemd binary package repository</strong></p>
<p>Edit <code>/etc/portage/binrepos.conf/gentoobinhost.conf</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>gentoobinhost<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>priority <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>sync-uri <span style="color:#f92672">=</span> https://distfiles.gentoo.org/releases/amd64/binpackages/23.0/x86-64-systemd
</span></span></code></pre></div><p>Notice the change: <code>x86-64</code> → <code>x86-64-systemd</code></p>
<p>Then update your binary package index:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emaint binhost --fix
</span></span><span style="display:flex;"><span>emerge --sync
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Or if using getuto:</span>
</span></span><span style="display:flex;"><span>getuto
</span></span></code></pre></div><p>Now try installing falkon again:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge --ask --verbose www-client/falkon
</span></span></code></pre></div><p>The systemd binary repository should have packages compiled with <code>systemd -elogind</code> USE flags that match your system configuration.</p>
<p><strong>Note:</strong> Make sure your profile is also set to a systemd profile. Check with:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>eselect profile list
</span></span></code></pre></div>
</div>


      </div>
    </section>
  </section><script 
src="/quiz/quizdown.js">
</script>
<script 
src="/quiz/quizdownKatex.js">
</script>
<script 
src="/quiz/quizdownHighlight.js">
</script>
<script>quizdown.register(quizdownHighlight).register(quizdownKatex).init()</script> 
<footer class="footer">
  <div class="content has-text-centered">
    
    
    <p>
      
      <a class="" href="https://imlauera.github.io/index.xml" target="_blank">
        <span>
          RSS
        </span>
      </a>
      
      | <a href="https://imlauera.github.io" target="_blank">Andres Imlauer.</a> 

      
      
    </p>
    
  </div>




<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({ tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]} })
</script>
</footer>


</body>
</html>
