<!DOCTYPE html>
<html lang="es">





<head>
  <meta property="og:url" content="https://imlauera.github.io/post/gentoo_installation/">
  <meta property="og:site_name" content="Imlauer">
  <meta property="og:title" content="Gentoo basic installation">
  <meta property="og:description" content="Esto son los paquetes que instalé por el momento, sin Xorg solo wayland. Sí uso fish y qué? La verdad es que Gentoo es un meme pero a mi me divierte.
Recién me estoy iniciando lejos de ser un experto. Use systemd con ext4, la mayoría de usuarios de gentoo no usan systemd ni ext4, usan xfs con openrc creo.
Aca estan los pasos que segui:
De acá me bajé minimal installation CD: https://www.">
  <meta property="og:locale" content="es_es">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2023-11-29T08:39:16-03:00">
    <meta property="article:modified_time" content="2023-11-29T08:39:16-03:00">
    <meta property="article:tag" content="Gentoo">
    <meta property="article:tag" content="Install">

  
  <meta itemprop="name" content="Gentoo basic installation">
  <meta itemprop="description" content="Esto son los paquetes que instalé por el momento, sin Xorg solo wayland. Sí uso fish y qué? La verdad es que Gentoo es un meme pero a mi me divierte.
Recién me estoy iniciando lejos de ser un experto. Use systemd con ext4, la mayoría de usuarios de gentoo no usan systemd ni ext4, usan xfs con openrc creo.
Aca estan los pasos que segui:
De acá me bajé minimal installation CD: https://www.">
  <meta itemprop="datePublished" content="2023-11-29T08:39:16-03:00">
  <meta itemprop="dateModified" content="2023-11-29T08:39:16-03:00">
  <meta itemprop="wordCount" content="1579">
  <meta itemprop="keywords" content="Gentoo,Install">
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Gentoo basic installation">
  <meta name="twitter:description" content="Esto son los paquetes que instalé por el momento, sin Xorg solo wayland. Sí uso fish y qué? La verdad es que Gentoo es un meme pero a mi me divierte.
Recién me estoy iniciando lejos de ser un experto. Use systemd con ext4, la mayoría de usuarios de gentoo no usan systemd ni ext4, usan xfs con openrc creo.
Aca estan los pasos que segui:
De acá me bajé minimal installation CD: https://www.">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
    
    Gentoo basic installation
    
  </title>
  <link rel="stylesheet" href='https://imlauera.github.io/css/site.min.css'>
  <link rel="canonical" href="https://imlauera.github.io/post/gentoo_installation/">
  <link rel="alternate" type="application/rss&#43;xml" href="https://imlauera.github.io/index.xml" title="Imlauer">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="referrer" content="no-referrer">
  <meta name="author" content="Imlauer.">
  <meta name="description" content="Esto son los paquetes que instalé por el momento, sin Xorg solo wayland. Sí uso fish y qué? La verdad es que Gentoo es un meme pero a mi me divierte.
Recién me estoy iniciando lejos de ser un experto. Use systemd con ext4, la mayoría de usuarios de gentoo no usan systemd ni ext4, usan xfs con openrc creo.
Aca estan los pasos que segui:
De acá me bajé minimal installation CD: https://www.">
</head>
<body><nav class="navbar is-transparent " role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a class="navbar-item" href="https://imlauera.github.io/">
      <figure class="image">
        <img alt="" class="is-rounded" src="/img/memememe.jpg">
      </figure>
    </a>
    <a class="navbar-item" href="https://imlauera.github.io/">
      Imlauer
    </a>
    <a class="navbar-item" href="/acerca/">
      Acerca de Mi
    </a>
  </div>
  
  
</nav>

  <section>
    <section class='hero is-small is-link is-fullwidth'>
      <div class="hero-body">
<div class="container">
  <h1 class="title">
    Gentoo basic installation
  </h1>
  <h2 class="subtitle">
    <time datetime='2023-11-29T08:39:16-03:00'>
      November 29, 2023
    </time>
    
    <br>
    
    
    
    <a class="tag is-info" href="https://imlauera.github.io/tags/gentoo/">Gentoo</a>
    
    
    
    
    <a class="tag is-info" href="https://imlauera.github.io/tags/install/">Install</a>
    
    
    
  </h2>
</div>

      </div>
    </section>
    <section class="section">
      <div class="container">
<div class="content is-medium">
  <p>Esto son los paquetes que instalé por el momento, sin Xorg solo wayland. Sí uso fish y qué?
La verdad es que Gentoo es un meme pero a mi me divierte.</p>
<p>Recién me estoy iniciando lejos de ser un experto. Use systemd con ext4, la mayoría de usuarios de gentoo no usan systemd ni ext4, usan xfs con openrc creo.</p>
<p>Aca estan los pasos que segui:</p>
<p>De acá me bajé minimal installation CD: <a href="https://www.gentoo.org/downloads/">https://www.gentoo.org/downloads/</a> lo puse en un pendrive ejecutando <code>dd if=...iso of=/dev/sdb status=progress bs=1M</code> y lo boote pero podés instalar gentoo desde cualquier distro de linux siempre y cuando no sea esa partición en donde quieras instalarlo.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>loadkeys es <span style="color:#75715e"># Teclado en español de españa (no uso el de argentina)</span>
</span></span><span style="display:flex;"><span>fdisk -l
</span></span></code></pre></div><p>Hacemos el particionado con <code>cfdisk /dev/sda</code> o usando <code>fdisk /dev/sda</code>.</p>
<p>Explicación sobre MBR(DOS) y GPT : <a href="https://youtube.com/watch?v=Ch9f7i0hj90">https://youtube.com/watch?v=Ch9f7i0hj90</a> Basicamente si tenes un disco duro de mas de 3 gigas usa GPT pero si es de menos usa DOS, para UEFI tenes que usar GPT.</p>
<p><strong>Crea una particion de efi de por lo menos 300 megas, otra de swap de 4gb, y el espacio que sobra para ext4</strong></p>
<p><strong>Si no lo quieren hacer con cfdisk lo pueden hacer con fdisk de la siguiente manera:</strong></p>
<h5 id="uefi-gpt">uefi (gpt)</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>g <span style="color:#f92672">(</span>gpt disk label<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>n
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#f92672">(</span>partition number <span style="color:#f92672">[</span>1/128<span style="color:#f92672">])</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2048</span> first sector
</span></span><span style="display:flex;"><span>+300M last sector <span style="color:#f92672">(</span>boot sector size<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>t
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#f92672">(</span>EFI System<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>n
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>default
</span></span><span style="display:flex;"><span>+4G
</span></span><span style="display:flex;"><span>t
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>swap
</span></span><span style="display:flex;"><span>n
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>default <span style="color:#f92672">(</span>fill up partition<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>default <span style="color:#f92672">(</span>fill up partition<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>w <span style="color:#f92672">(</span>write<span style="color:#f92672">)</span>
</span></span></code></pre></div><h4 id="formateo-montado-de-particiones-e-instalación-base-usando-uefi">Formateo, montado de particiones e instalación base (usando UEFI)</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkfs.ext4 /dev/sda3 <span style="color:#f92672">(</span>root partition<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>mkswap /dev/sda2 <span style="color:#f92672">(</span>swap partition<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>mkfs.fat -F <span style="color:#ae81ff">32</span> /dev/sda1 <span style="color:#f92672">(</span>efi partition<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>mount /dev/sda3 <span style="color:#f92672">(</span>root_partition<span style="color:#f92672">)</span> /mnt/gentoo
</span></span><span style="display:flex;"><span>mount --mkdir /dev/sda1 <span style="color:#f92672">(</span>efi partition<span style="color:#f92672">)</span> /mnt/gentoo/boot
</span></span><span style="display:flex;"><span>swapon /dev/sda2 <span style="color:#f92672">(</span>swap_partition<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>links https://gentoo.org/downloads/mirrors
</span></span></code></pre></div><h5 id="por-ahora-uso-systemd">Por ahora uso systemd</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>South America -&gt; AR -&gt;  <span style="color:#f92672">[</span>url<span style="color:#f92672">]</span>https://gentoo.zero.com.ar/gentoo/<span style="color:#f92672">[</span>/url<span style="color:#f92672">]</span> -&gt; releases -&gt; amd64 -&gt; autobuils -&gt; current-stage3-amd64-desktop-systemd/ -&gt; stage3-amd64-desktop-systemd-20250406T165023Z.tar.xz -&gt; descargá y guardalo 
</span></span></code></pre></div><h5 id="descomprimí-y-borralo">Descomprimí y borralo.</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>tar xvf stage*
</span></span><span style="display:flex;"><span>rm stage* 
</span></span><span style="display:flex;"><span>genfstab /mnt/gentoo &gt; /mnt/gentoo/etc/fstab
</span></span></code></pre></div><h4 id="configurá-las-dns-no-uses-las-de-personal-ni-claro-porque-bloquean-todo-si-me-creen-tirale-un-ping-a-thepiratebayorg-o-a-librefutbolsu">Configurá las dns (No uses las de personal ni claro porque bloquean todo si me creen tirale un ping a thepiratebay.org o a librefutbol.su)</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cp --dereference /etc/resolv.conf /mnt/gentoo/etc
</span></span><span style="display:flex;"><span>cd /mnt/gentoo
</span></span><span style="display:flex;"><span>arch-chroot .
</span></span><span style="display:flex;"><span>nano /etc/portage/make.conf
</span></span><span style="display:flex;"><span>ACCEPT_LICENCE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;*&#34;</span>
</span></span><span style="display:flex;"><span>MAKEOPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-j3&#34;</span> <span style="color:#75715e"># Sirve para optimizar el tiempo de compilacion sugieren: numeros de núcleos+1</span>
</span></span><span style="display:flex;"><span>ln -sf /usr/share/zoneinfo/America/Buenos_Aires /etc/localtime
</span></span><span style="display:flex;"><span>hwclock --systohc
</span></span><span style="display:flex;"><span>nano /etc/locale.gen y descomentá en_US.UTF-8 UTF-8 <span style="color:#f92672">(</span>es el idioma del sistema operativo a mi me gusta en ingles<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>locale-gen
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;LANG=en_US.UTF-8&#34;</span> &gt; /etc/locale.conf
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;KEYMAP=es&#34;</span> &gt; /etc/vconsole.conf
</span></span></code></pre></div><h5 id="mirá-en-el-directorio-usrshareconsolefonts-para-ver-tus-letras-disponibles">Mirá en el directorio /usr/share/consolefonts/ para ver tus letras disponibles</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;FONT=latarcyrheb-sun32&#34;</span> &gt;&gt; /etc/vconsole.conf
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;arch&#34;</span> &gt; /etc/hostname
</span></span></code></pre></div><h4 id="agregá-o-reemplazá">Agregá o reemplazá</h4>
<p><code>nano /etc/hosts</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>127.0.0.1       localhost
</span></span><span style="display:flex;"><span>::1 localhost
</span></span><span style="display:flex;"><span>127.0.0.1       arch.localdomain        arch
</span></span></code></pre></div><h4 id="cambiamos-contraseña-root-y-sincronizamos">Cambiamos contraseña root y sincronizamos</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>passwd 
</span></span><span style="display:flex;"><span>emerge-webrsync
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;America/Buenos_Aires&#34;</span> &gt; /etc/timezone
</span></span><span style="display:flex;"><span>emerge --config sys-libs/timezone-data
</span></span></code></pre></div><h4 id="esta-linea-compilara-todos-estos-paquetes">Esta linea compilara todos estos paquetes</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emerge -va gentoo-kernel-bin grub networkmanager pipewire tmux fastfetch os-prober sudo fish sway wmenu foot alsa-utils firefox-bin mpv php apulse imagemagick sys-kernel/linux-firmware wpa_supplicant translate-shell dev-vcs/git hugo dev-python/pip wl-clipboard grim btop feh yt-dlp neomutt aircrack-ng falkon irssi w3m net-fs/samba vim
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Agregá --autounmask-write y luego dispatch-conf
</span></span><span style="display:flex;"><span>hwclock --systohc
</span></span><span style="display:flex;"><span>systemctl enable NetworkManager
</span></span></code></pre></div><p>En algunos UEFI frameworks con fallas tenes que instalar el grub usando el parámetro &ndash;removable para instalar
el bootloader a la ubicación de respaldo “fallback” porque sino se borra sólo la entrada del efi.</p>
<p><code>sudo grub-install --target=x86_64-efi --efi-directory=/boot --removable</code></p>
<p>Para que os-prober descubra otra particiones tenés que montarlo y en <code>/etc/default/grub</code> escribí <code>GRUB_DISABLE_OS_PROBER=false</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>grub-mkconfig -o /boot/grub/grub.cfg
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;KEYMAP=es&#34;</span> &gt; /etc/vconsole.conf
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;FONT=latarcyrheb-sun32&#34;</span> &gt;&gt; /etc/vconsole.conf
</span></span></code></pre></div><p>Modifica sudoers opcional si queres sudo sin contraseña</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo systemctl enable gpm
</span></span><span style="display:flex;"><span>exit
</span></span><span style="display:flex;"><span>exit
</span></span><span style="display:flex;"><span>reboot
</span></span></code></pre></div><h4 id="nos-logueamos-y-creamos-un-usuario-luego-de-bootear-gentoo">Nos logueamos y creamos un usuario luego de bootear gentoo</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>useradd -m -g users -G video,audio,wheel nombre_usuario
</span></span><span style="display:flex;"><span>passwd nombre_usuario <span style="color:#75715e"># agregarle una contraseña al usuario</span>
</span></span><span style="display:flex;"><span>$ nmtui <span style="color:#f92672">(</span>para conectarse wifi<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>vim /etc/sudoers y agregá tu usuario copiando la linea de root y sustituyendo root por tu nombre de usuario debajo de todo.
</span></span></code></pre></div><p>Y abrimos el entorno grafico ejecutando sway desde la TTY y con Tecla Windows+Enter abrimos una terminal llamada foot.</p>
<p>Ahora en <code>/usr/bin/firefox-bin</code> a la última línea agregá <code>apulse</code> (por el audio).</p>
<p>Listo.</p>
<p>Para actualizar todos los paquetes: <code>emerge --ask --verbose --update --deep --newuse @world</code>
Las noticias se leen con <code>sudo eselect news list</code> y <code>sudo eselect news read 1</code></p>
<p>Si tu WiFi funciona lento: <a href="https://forums.gentoo.org/viewtopic-t-1075252-start-0.html">https://forums.gentoo.org/viewtopic-t-1075252-start-0.html</a>
<a href="https://forums.gentoo.org/viewtopic-t-996692.html">https://forums.gentoo.org/viewtopic-t-996692.html</a></p>
<p><a href="https://reyabogado.com/us/what-is-wireless-regulations/">https://reyabogado.com/us/what-is-wireless-regulations/</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>iw reg set AR <span style="color:#75715e"># (codigo de tu pais)</span>
</span></span></code></pre></div><p>Para ver cuanto tiempo te tardará compilar un paquete:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo emerge -av genlop
</span></span><span style="display:flex;"><span>genlop -tq www-client/falkon
</span></span></code></pre></div><p>O podes conseguir un valor estimado acá:
<a href="https://gentoo.linuxhowtos.org/compiletimeestimator/">https://gentoo.linuxhowtos.org/compiletimeestimator/</a></p>
<hr>
<h4 id="antigua-guía">Antigua guía.</h4>
<p>Tiene que ser más grande que 5 gb la partición root
Crea una particion de efi de por lo menos 300 megas, otra de swap de 4gb, y el espacio que sobra para ext4</p>
<p>Si no lo quieren hacer con cfdisk lo pueden hacer con fdisk de la siguiente manera:</p>
<h3 id="particionamiento">Particionamiento</h3>
<h3 id="bios-legacy">bios legacy</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>o (gpt disk label)
</span></span><span style="display:flex;"><span>n
</span></span><span style="display:flex;"><span>p
</span></span><span style="display:flex;"><span>1 (partition number [1/128])
</span></span><span style="display:flex;"><span>2048 first sector
</span></span><span style="display:flex;"><span>+1G last sector (boot sector size)
</span></span><span style="display:flex;"><span>t
</span></span><span style="display:flex;"><span>swap (EFI System)
</span></span><span style="display:flex;"><span>n
</span></span><span style="display:flex;"><span>p
</span></span><span style="display:flex;"><span>2
</span></span><span style="display:flex;"><span>default (fill up partition)
</span></span><span style="display:flex;"><span>default (fill up partition)
</span></span><span style="display:flex;"><span>w (write)
</span></span></code></pre></div><h4 id="uefi-gpt-1">uefi (gpt)</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>g <span style="color:#f92672">(</span>gpt disk label<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>n
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#f92672">(</span>partition number <span style="color:#f92672">[</span>1/128<span style="color:#f92672">])</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2048</span> first sector
</span></span><span style="display:flex;"><span>+300M last sector <span style="color:#f92672">(</span>boot sector size<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>t
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#f92672">(</span>EFI System<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>n
</span></span><span style="display:flex;"><span>p
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>default
</span></span><span style="display:flex;"><span>+4G
</span></span><span style="display:flex;"><span>t
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>swap
</span></span><span style="display:flex;"><span>n
</span></span><span style="display:flex;"><span>p
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>default <span style="color:#f92672">(</span>fill up partition<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>default <span style="color:#f92672">(</span>fill up partition<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>w <span style="color:#f92672">(</span>write<span style="color:#f92672">)</span>
</span></span></code></pre></div><h3 id="instalación">Instalación</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>mkfs.ext4 /dev/sda3 (root partition)
</span></span><span style="display:flex;"><span>mkswap /dev/sda2 (swap partition)
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>mount /dev/sda3 /mnt/gentoo (no lo montes en /mnt o se romperá todo tu sistema)
</span></span><span style="display:flex;"><span>swapon /dev/sda2 (swap_partition)
</span></span><span style="display:flex;"><span>cd /mnt/gentoo
</span></span><span style="display:flex;"><span>links gentoo.org/downloads/mirrors/
</span></span><span style="display:flex;"><span>Public Mirrors -&gt; releases -&gt; amd64 -&gt; autobuils -&gt; stage3-amd64-musl.tar.xz -&gt; download and save
</span></span><span style="display:flex;"><span>exit links
</span></span><span style="display:flex;"><span>tar xvf stage3-amd64-musl.tar.xz
</span></span><span style="display:flex;"><span>mount -t proc none proc
</span></span><span style="display:flex;"><span>mount --rbind /dev dev
</span></span><span style="display:flex;"><span>mount --rbind /sys sys
</span></span><span style="display:flex;"><span>mount --rbind /run run
</span></span><span style="display:flex;"><span>cp -L /etc/resolv.conf etc/
</span></span><span style="display:flex;"><span>chroot . /bin/bash -l
</span></span><span style="display:flex;"><span>nano /etc/portage/make.conf
</span></span><span style="display:flex;"><span>MAKEOPTS=&#34;-j8&#34;
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>emerge-webrsync
</span></span><span style="display:flex;"><span>emerge gentoo-kernel-bin grub neofetch
</span></span><span style="display:flex;"><span>grub-install /dev/sda
</span></span><span style="display:flex;"><span>grub-mkconfig -o /boot/grub/grub.cfg
</span></span><span style="display:flex;"><span>passwd
</span></span><span style="display:flex;"><span>exit
</span></span><span style="display:flex;"><span>reboot
</span></span></code></pre></div><p>Done</p>
<h4 id="instalacion-de-gentoo-de-denshivideo">Instalacion de Gentoo de DenshiVideo</h4>
<p><a href="https://m.youtube.com/watch?v=J7W9MItUSGw">https://m.youtube.com/watch?v=J7W9MItUSGw</a></p>
<p>cfdisk /dev/sda</p>
<p>Ya expliqué  la diferencia entre gpt o dos en el tutorial de archlinux.</p>
<p>Creá 3 particiones 100M, la mitad de tu RAM para el swap, y la otra partición con lo que sobra.</p>
<p>Verificá que se hizo bien con: lsblk</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkfs.fat -F <span style="color:#ae81ff">32</span> /dev/sda1
</span></span><span style="display:flex;"><span>mkswap /dev/sda2
</span></span><span style="display:flex;"><span>mkdir /mnt/gentoo
</span></span><span style="display:flex;"><span>mount /dev/sda3 /mnt/gentoo
</span></span><span style="display:flex;"><span>cd /mnt/gentoo
</span></span></code></pre></div><p><a href="https://www.gentoo.org/downloads/">https://www.gentoo.org/downloads/</a></p>
<p>Elegí stage3 (openrc o systemd)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>wget https://distfiles.gentoo.org/releases/amd64/autobuilds/20240811T170405Z/stage3-amd64-openrc-20240811T170405Z.tar.xz
</span></span><span style="display:flex;"><span>tar xpvf stage3*.tar.xz --xattrs-include<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;*.*&#39;</span> --numeric-owner 
</span></span><span style="display:flex;"><span>vim /mnt/gentoo/etc/portage/make.conf
</span></span><span style="display:flex;"><span>MAKEOPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-j5&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Busca los mirrors en Downloads(gentoo)</span>
</span></span><span style="display:flex;"><span>GENTOO_MIRRORS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://ftp.linux.org.tr/gentoo/&#34;</span>
</span></span><span style="display:flex;"><span>cp --dereference /etc/resolv.conf /mnt/gentoo/etc/
</span></span><span style="display:flex;"><span>mount --types proc /proc /mnt/gentoo/proc/
</span></span><span style="display:flex;"><span>mount --rbind /sys /mnt/gentoo/sys
</span></span><span style="display:flex;"><span>mount --make-rslave /mnt/gentoo/sys
</span></span><span style="display:flex;"><span>mount --rbind /dev /mnt/gentoo/dev/
</span></span><span style="display:flex;"><span>mount --make-rslave /mnt/gentoo/dev/
</span></span><span style="display:flex;"><span><span style="color:#75715e">### Cuando usas un medio de instalación que no es Gentoo:</span>
</span></span><span style="display:flex;"><span>test -L /dev/shm <span style="color:#f92672">&amp;&amp;</span> rm /dev/shm <span style="color:#f92672">&amp;&amp;</span> mkdir /dev/shm
</span></span><span style="display:flex;"><span>mount --types tmpfs --options nosuid,nodev,noexec shm /dev/shm
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">1777</span> /dev/shm
</span></span><span style="display:flex;"><span>ls -l /run/shm
</span></span><span style="display:flex;"><span>chroot /mnt/gentoo /bin/bash
</span></span><span style="display:flex;"><span>source /etc/profile
</span></span><span style="display:flex;"><span>export PS1<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;(chroot) </span><span style="color:#e6db74">${</span>PS1<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>emerge-webrsync 
</span></span><span style="display:flex;"><span>eselect news list
</span></span><span style="display:flex;"><span>eselect news read <span style="color:#ae81ff">10</span> | less
</span></span><span style="display:flex;"><span>eselect profile list
</span></span><span style="display:flex;"><span>eselect profile set <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>emerge --info
</span></span><span style="display:flex;"><span><span style="color:#75715e">### Flags/banderas.</span>
</span></span><span style="display:flex;"><span>emerge --info | grep ^USE
</span></span><span style="display:flex;"><span>vim /etc/portage/make.conf
</span></span><span style="display:flex;"><span><span style="color:#75715e">## La unica forma de sacarte alguna bandera es agregando un - en frente de la palabra.</span>
</span></span><span style="display:flex;"><span>En este caso dejaremos las flags por defecto
</span></span><span style="display:flex;"><span>USE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span> en el make.conf
</span></span><span style="display:flex;"><span><span style="color:#75715e">### Actualizar todos los paquetes</span>
</span></span><span style="display:flex;"><span>emerge --ask --verbose --update --deep --newuse @world
</span></span><span style="display:flex;"><span>ACCEPT_LICENSE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;*&#34;</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;America/Buenos_Aires&#34;</span> &gt; /etc/timezone
</span></span><span style="display:flex;"><span>emerge --config sys-libs/timezone-data
</span></span><span style="display:flex;"><span>vim /etc/locale.gen
</span></span><span style="display:flex;"><span><span style="color:#75715e">### Agregá y guardá</span>
</span></span><span style="display:flex;"><span>es_ES.UTF-8 UTF-8
</span></span><span style="display:flex;"><span><span style="color:#75715e">### Ejecutá</span>
</span></span><span style="display:flex;"><span>locale-gen
</span></span><span style="display:flex;"><span>eselect locale list
</span></span><span style="display:flex;"><span>eselect locale set <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>ln -sf ../usr/share/zoneinfo/America/Buenos_Aires
</span></span><span style="display:flex;"><span>env-update <span style="color:#f92672">&amp;&amp;</span> source /etc/profile <span style="color:#f92672">&amp;&amp;</span> export PS1<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;(chroot) </span><span style="color:#e6db74">${</span>PS1<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">### Ahora configuramos el kernel.</span>
</span></span><span style="display:flex;"><span>emerge --ask sys-kernel/gentoo-sources
</span></span><span style="display:flex;"><span>cd /usr/src/linux-6.10..
</span></span><span style="display:flex;"><span>make menuconfig
</span></span><span style="display:flex;"><span><span style="color:#75715e">### Otra opción es instalar el binario del kernel.</span>
</span></span><span style="display:flex;"><span>Podés elegir uno que tenga <span style="color:#e6db74">`</span>systemd<span style="color:#e6db74">`</span> o si te bajaste openrc tenés que usar la 2da opoción que sirve para cualquiera.
</span></span><span style="display:flex;"><span>emerge --ask sys-kernel/installkernel-systemd-boot    
</span></span><span style="display:flex;"><span>emerge --ask sys-kernel/installkernel-gentoo
</span></span><span style="display:flex;"><span>emerge --sys-kernel/gentoo-kernel-bin
</span></span></code></pre></div><p>Ahora abrí otra terminal ejecutá:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo -s
</span></span><span style="display:flex;"><span>cd 
</span></span><span style="display:flex;"><span>chmod +x genfstab
</span></span><span style="display:flex;"><span>./genfstab /mnt/gentoo
</span></span><span style="display:flex;"><span>./genfstab /mnt/gentoo &gt; /mnt/gentoo/etc/fstab
</span></span></code></pre></div><p>Luego seguí de la consola en donde tenías el chroot</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vim /etc/fstab
</span></span><span style="display:flex;"><span>Borrá todo menos /dev/sda1 /dev/sda2 /dev/sda3 y guardá
</span></span><span style="display:flex;"><span>vim /etc/conf.d/hostname
</span></span><span style="display:flex;"><span>hostname<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Jentu&#34;</span>
</span></span><span style="display:flex;"><span>vim /etc/hosts
</span></span><span style="display:flex;"><span>Agregá tu hostname ahí
</span></span><span style="display:flex;"><span>127.0.0.1 Jentu
</span></span><span style="display:flex;"><span>passwd
</span></span><span style="display:flex;"><span>vim /etc/conf.d/keymaps
</span></span><span style="display:flex;"><span>es
</span></span><span style="display:flex;"><span>vim /etc/conf.d/hwclock
</span></span><span style="display:flex;"><span>emerge dhcpcd sudo screenfetch grub efibootmgr
</span></span><span style="display:flex;"><span><span style="color:#75715e">### Cualquiera de estas dos formas funcionan, pero algunas computadoras tenés que agregar --removable al final.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#grub-install /dev/sda</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#sudo grub-install --target=x86_64-efi --efi-directory=/boot --removable</span>
</span></span><span style="display:flex;"><span>grub-mkconfig -o /boot/grub/grub.cfg
</span></span><span style="display:flex;"><span>vim /etc/sudoers
</span></span><span style="display:flex;"><span>Descomentá la linea %wheel ALL<span style="color:#f92672">=(</span>ALL<span style="color:#f92672">)</span> ALL
</span></span><span style="display:flex;"><span>useradd -m -g users -G video,audio,wheel nombre_usuario
</span></span><span style="display:flex;"><span>useradd -m -G users,video,audio,wheel -s /bin/bash nombre_usuario
</span></span><span style="display:flex;"><span>passwd nombre_usuario
</span></span><span style="display:flex;"><span>cd /
</span></span><span style="display:flex;"><span>rm -rf stage3....tar.xz
</span></span><span style="display:flex;"><span>exit
</span></span><span style="display:flex;"><span>exit
</span></span><span style="display:flex;"><span><span style="color:#75715e">### Desmontar todo</span>
</span></span><span style="display:flex;"><span>sudo umount -a
</span></span></code></pre></div><hr>
<h3 id="guía-de-immolo">Guía de IMMOLO</h3>
<p>Booteá el CD de instalación de gentoo.</p>
<p>cfdisk /dev/sda</p>
<p>gpt o dos (ya lo expliqué anteriormente en la instalación de archlinux)</p>
<p>Creá una partición de 1G (efi system)<br>
2G de swap<br>
y el resto para Linux filesystem</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkfs.vfat /dev/sda1 <span style="color:#f92672">(</span>efi<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>mkswap /dev/sda2 
</span></span><span style="display:flex;"><span>mkfs.xfs /dev/sda3
</span></span><span style="display:flex;"><span>mount /dev/sda3 /mnt/gentoo
</span></span><span style="display:flex;"><span>cd /mnt/gentoo
</span></span><span style="display:flex;"><span>mkdir boot
</span></span><span style="display:flex;"><span>mount /dev/sda1 boot
</span></span><span style="display:flex;"><span>swapon /dev/sda2
</span></span><span style="display:flex;"><span>mount
</span></span><span style="display:flex;"><span>free -m
</span></span><span style="display:flex;"><span>links gentoo.org/downloads/mirrors/
</span></span><span style="display:flex;"><span>Seleccioná el mirror más cercano
</span></span><span style="display:flex;"><span>releases &gt; amd64 &gt; autobuilds &gt; current-stage3-amd64-desktop-openrc &gt; bajate el *.tar.gz &gt; save
</span></span><span style="display:flex;"><span>tar xvf stage3*
</span></span><span style="display:flex;"><span>rm stage*
</span></span><span style="display:flex;"><span>arch-chroot .
</span></span><span style="display:flex;"><span>vim /etc/portage/make.conf
</span></span><span style="display:flex;"><span>en COMMON_FLAGS agregá -march<span style="color:#f92672">=</span>native
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Agregá FEATURES<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;getbinpkg binpkg-request-signature&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ACCEPT_LICENSES<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;*&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cp /etc/resolv.conf etc/
</span></span><span style="display:flex;"><span>arch-chroot .
</span></span><span style="display:flex;"><span>emerge --sync
</span></span><span style="display:flex;"><span>emerge -va gentoo-kernel-bin
</span></span><span style="display:flex;"><span>dispatch-conf
</span></span><span style="display:flex;"><span>getuto
</span></span><span style="display:flex;"><span>emerge -va grub
</span></span><span style="display:flex;"><span><span style="color:#75715e">## efi</span>
</span></span><span style="display:flex;"><span>grub-install --efi-directory<span style="color:#f92672">=</span>/boot /dev/sda
</span></span><span style="display:flex;"><span>grub-mkconfig -o /boot/grub/grub.cfg
</span></span><span style="display:flex;"><span>emerge -va sysklogd cronie chrony xfsprogs 
</span></span><span style="display:flex;"><span>rc-update add sysklogd default 
</span></span><span style="display:flex;"><span>rc-update add chronyd default 
</span></span><span style="display:flex;"><span>passwd
</span></span><span style="display:flex;"><span>qlop -t grub
</span></span><span style="display:flex;"><span>vim /etc/hostname
</span></span><span style="display:flex;"><span>poné el que quieras
</span></span><span style="display:flex;"><span>exit
</span></span><span style="display:flex;"><span>reboot
</span></span><span style="display:flex;"><span>emerge -va fastfetch
</span></span><span style="display:flex;"><span>emerge -va mate-base/mate lightdm xorg-drivers --jobs <span style="color:#ae81ff">8</span>
</span></span><span style="display:flex;"><span>useradd -m -G audio,wheel,video esotericwarfare
</span></span><span style="display:flex;"><span>passwd esotericwarfare
</span></span><span style="display:flex;"><span>rc-update add dbus default
</span></span><span style="display:flex;"><span>rc-service dbus start
</span></span><span style="display:flex;"><span>vim /etc/conf.d/display-manager
</span></span><span style="display:flex;"><span>cambia DISPLAYMANAGER a lightdm
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>rc-update add display-manager default
</span></span><span style="display:flex;"><span>rc-service display-manager start
</span></span><span style="display:flex;"><span>Tenés que crear el .xinitrc y start XD
</span></span></code></pre></div>
</div>


      </div>
    </section>
  </section><script 
src="/quiz/quizdown.js">
</script>
<script 
src="/quiz/quizdownKatex.js">
</script>
<script 
src="/quiz/quizdownHighlight.js">
</script>
<script>quizdown.register(quizdownHighlight).register(quizdownKatex).init()</script> 
<footer class="footer">
  <div class="content has-text-centered">
    
    
    <p>
      
      <a class="" href="https://imlauera.github.io/index.xml" target="_blank">
        <span>
          RSS
        </span>
      </a>
      
      | <a href="https://imlauera.github.io" target="_blank">Andres Imlauer.</a> 

      
      
    </p>
    
  </div>




<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({ tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]} })
</script>
</footer>


</body>
</html>
