<!DOCTYPE html>
<html lang="es">





<head>
  <meta property="og:url" content="https://imlauera.github.io/post/reversing_unioncita_facilb/">
  <meta property="og:site_name" content="Imlauer">
  <meta property="og:title" content="Reversing unioncita facilb">
  <meta property="og:description" content="El ejercicio unioncita facilb se encuentra en: https://drive.google.com/file/d/1QRIk3zBGGXH54nSZorX3jnuNmURCHw6K/view?pli=1
Todos los ‘miembros’ de la union comparten la misma memoria. Los datos son los mismos pero se interpretan de manera diferente.
#include &lt;stdio.h&gt; union pruebita { int a; char b; char c[2]; }; int main(){ union pruebita HOLA; HOLA.a = 65; HOLA.c[0] = &#39;C&#39;; printf(&#34;%d\n&#34;,HOLA.a); printf(&#34;%c\n&#34;,HOLA.b); return 0; } A diferencia de las estructuras, donde cada miembro tiene su propia área de memoria, todos los miembros de una unión comparten la misma dirección, lo que optimiza el uso de memoria. El tamaño total de la unión es igual al tamaño del miembro más grande. Por ejemplo, al declarar union { int i; double d; } u;, se puede acceder a u.i o u.d, pero modificar uno afectará al otro debido a que comparten el mismo espacio en memoria. Esto requiere que el programador tenga cuidado para asegurarse de que solo se accede al miembro correcto en uso.">
  <meta property="og:locale" content="es_es">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2024-09-22T14:11:20-03:00">
    <meta property="article:modified_time" content="2024-09-22T14:11:20-03:00">
    <meta property="article:tag" content="Reversing">

  
  <meta itemprop="name" content="Reversing unioncita facilb">
  <meta itemprop="description" content="El ejercicio unioncita facilb se encuentra en: https://drive.google.com/file/d/1QRIk3zBGGXH54nSZorX3jnuNmURCHw6K/view?pli=1
Todos los ‘miembros’ de la union comparten la misma memoria. Los datos son los mismos pero se interpretan de manera diferente.
#include &lt;stdio.h&gt; union pruebita { int a; char b; char c[2]; }; int main(){ union pruebita HOLA; HOLA.a = 65; HOLA.c[0] = &#39;C&#39;; printf(&#34;%d\n&#34;,HOLA.a); printf(&#34;%c\n&#34;,HOLA.b); return 0; } A diferencia de las estructuras, donde cada miembro tiene su propia área de memoria, todos los miembros de una unión comparten la misma dirección, lo que optimiza el uso de memoria. El tamaño total de la unión es igual al tamaño del miembro más grande. Por ejemplo, al declarar union { int i; double d; } u;, se puede acceder a u.i o u.d, pero modificar uno afectará al otro debido a que comparten el mismo espacio en memoria. Esto requiere que el programador tenga cuidado para asegurarse de que solo se accede al miembro correcto en uso.">
  <meta itemprop="datePublished" content="2024-09-22T14:11:20-03:00">
  <meta itemprop="dateModified" content="2024-09-22T14:11:20-03:00">
  <meta itemprop="wordCount" content="839">
  <meta itemprop="keywords" content="Reversing">
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Reversing unioncita facilb">
  <meta name="twitter:description" content="El ejercicio unioncita facilb se encuentra en: https://drive.google.com/file/d/1QRIk3zBGGXH54nSZorX3jnuNmURCHw6K/view?pli=1
Todos los ‘miembros’ de la union comparten la misma memoria. Los datos son los mismos pero se interpretan de manera diferente.
#include &lt;stdio.h&gt; union pruebita { int a; char b; char c[2]; }; int main(){ union pruebita HOLA; HOLA.a = 65; HOLA.c[0] = &#39;C&#39;; printf(&#34;%d\n&#34;,HOLA.a); printf(&#34;%c\n&#34;,HOLA.b); return 0; } A diferencia de las estructuras, donde cada miembro tiene su propia área de memoria, todos los miembros de una unión comparten la misma dirección, lo que optimiza el uso de memoria. El tamaño total de la unión es igual al tamaño del miembro más grande. Por ejemplo, al declarar union { int i; double d; } u;, se puede acceder a u.i o u.d, pero modificar uno afectará al otro debido a que comparten el mismo espacio en memoria. Esto requiere que el programador tenga cuidado para asegurarse de que solo se accede al miembro correcto en uso.">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
    
    Reversing unioncita facilb
    
  </title>
  <link rel="stylesheet" href='https://imlauera.github.io/css/site.min.css'>
  <link rel="canonical" href="https://imlauera.github.io/post/reversing_unioncita_facilb/">
  <link rel="alternate" type="application/rss&#43;xml" href="https://imlauera.github.io/index.xml" title="Imlauer">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="referrer" content="no-referrer">
  <meta name="author" content="Imlauer.">
  <meta name="description" content="El ejercicio unioncita facilb se encuentra en: https://drive.google.com/file/d/1QRIk3zBGGXH54nSZorX3jnuNmURCHw6K/view?pli=1

Todos los &lsquo;miembros&rsquo; de la union comparten la misma memoria.  Los datos son los mismos pero se interpretan de manera diferente.

#include &lt;stdio.h&gt;
union pruebita {
    int a;
    char b;
    char c[2];
};
int main(){
    union pruebita HOLA;
    HOLA.a = 65;

    HOLA.c[0] = &#39;C&#39;;
    printf(&#34;%d\n&#34;,HOLA.a);
    printf(&#34;%c\n&#34;,HOLA.b);

    return 0;
}
A diferencia de las estructuras, donde cada miembro tiene su propia área de memoria, todos los miembros de una unión comparten la misma dirección, lo que optimiza el uso de memoria. El tamaño total de la unión es igual al tamaño del miembro más grande. Por ejemplo, al declarar union { int i; double d; } u;, se puede acceder a u.i o u.d, pero modificar uno afectará al otro debido a que comparten el mismo espacio en memoria. Esto requiere que el programador tenga cuidado para asegurarse de que solo se accede al miembro correcto en uso.">
</head>
<body><nav class="navbar is-transparent " role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a class="navbar-item" href="https://imlauera.github.io/">
      <figure class="image">
        <img alt="" class="is-rounded" src="/img/memememe.jpg">
      </figure>
    </a>
    <a class="navbar-item" href="https://imlauera.github.io/">
      Imlauer
    </a>
    <a class="navbar-item" href="/acerca/">
      Acerca de Mi
    </a>
  </div>
  
  
</nav>

  <section>
    <section class='hero is-small is-link is-fullwidth'>
      <div class="hero-body">
<div class="container">
  <h1 class="title">
    Reversing unioncita facilb
  </h1>
  <h2 class="subtitle">
    <time datetime='2024-09-22T14:11:20-03:00'>
      September 22, 2024
    </time>
    
    <br>
    
    
    
    <a class="tag is-info" href="https://imlauera.github.io/tags/reversing/">Reversing</a>
    
    
    
  </h2>
</div>

      </div>
    </section>
    <section class="section">
      <div class="container">
<div class="content is-medium">
  <p>El ejercicio unioncita facilb se encuentra en: <a href="https://drive.google.com/file/d/1QRIk3zBGGXH54nSZorX3jnuNmURCHw6K/view?pli=1">https://drive.google.com/file/d/1QRIk3zBGGXH54nSZorX3jnuNmURCHw6K/view?pli=1</a></p>
<blockquote>
<p>Todos los &lsquo;miembros&rsquo; de la union comparten la misma memoria.  Los datos son los mismos pero se interpretan de manera diferente.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">union</span> pruebita {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> b;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> c[<span style="color:#ae81ff">2</span>];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">union</span> pruebita HOLA;
</span></span><span style="display:flex;"><span>    HOLA.a <span style="color:#f92672">=</span> <span style="color:#ae81ff">65</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    HOLA.c[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;C&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,HOLA.a);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%c</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,HOLA.b);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>A diferencia de las estructuras, donde cada miembro tiene su propia área de memoria, <strong>todos los miembros de una unión comparten la misma dirección</strong>, lo que optimiza el uso de memoria. El tamaño total de la unión es igual al tamaño del miembro más grande. Por ejemplo, al declarar <code>union { int i; double d; } u;</code>, se puede acceder a u.i o u.d, pero modificar uno afectará al otro debido a que comparten el mismo espacio en memoria. Esto requiere que el programador tenga cuidado para asegurarse de que solo se accede al miembro correcto en uso.</p>
<p>Código generado por IDA:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* This file was generated by the Hex-Rays decompiler version 9.0.0.240807.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   Copyright (c) 2007-2021 Hex-Rays &lt;info@hex-rays.com&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   Detected compiler: Visual C++
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">*/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;windows.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;defs.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdarg.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//-------------------------------------------------------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// Function declarations
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">__int64</span> <span style="color:#66d9ef">__fastcall</span> <span style="color:#a6e22e">funcion</span>(S <span style="color:#f92672">*</span>_myun);
</span></span><span style="display:flex;"><span><span style="color:#75715e">// unsigned __int64 *__fastcall _local_stdio_printf_options(); idb
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// unsigned __int64 *__fastcall _local_stdio_scanf_options(); idb
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#66d9ef">__fastcall</span> <span style="color:#a6e22e">vfprintf_l</span>(_iobuf <span style="color:#f92672">*</span><span style="color:#66d9ef">const</span> _Stream, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>_Format, __crt_locale_pointers <span style="color:#f92672">*</span><span style="color:#66d9ef">const</span> _Locale, va_list _ArgList);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#66d9ef">__fastcall</span> <span style="color:#a6e22e">vfscanf_s_l</span>(_iobuf <span style="color:#f92672">*</span><span style="color:#66d9ef">const</span> _Stream, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>_Format, __crt_locale_pointers <span style="color:#f92672">*</span><span style="color:#66d9ef">const</span> _Locale, va_list _ArgList);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#66d9ef">__fastcall</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">**</span>argv, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">**</span>envp);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">__int64</span> <span style="color:#a6e22e">printf</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>_Format, ...);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">__int64</span> <span style="color:#a6e22e">scanf_s</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>_Format, ...);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">__int64</span> <span style="color:#66d9ef">__fastcall</span> <span style="color:#a6e22e">_scrt_initialize_winrt</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">__int64</span> <span style="color:#66d9ef">__fastcall</span> <span style="color:#a6e22e">get_startup_argv_mode</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">char</span> <span style="color:#66d9ef">__fastcall</span> <span style="color:#a6e22e">_scrt_stub_for_acrt_uninitialize</span>(<span style="color:#66d9ef">bool</span> __formal);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//-------------------------------------------------------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// Data declarations
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// extern void *(__cdecl *malloc)(size_t Size);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// extern void (__cdecl __noreturn *exit)(int Code);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// extern int (__cdecl *system)(const char *Command);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// extern int (__cdecl *__stdio_common_vfscanf)(unsigned __int64 Options, FILE *Stream, const char *Format, _locale_t Locale, va_list Arglist);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// extern FILE *(__cdecl *__acrt_iob_func)(unsigned int Ix);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// extern int (__cdecl *__stdio_common_vfprintf)(unsigned __int64 Options, FILE *Stream, const char *Format, _locale_t Locale, va_list ArgList);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//----- (0000000140001000) ----------------------------------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">__int64</span> <span style="color:#66d9ef">__fastcall</span> <span style="color:#a6e22e">funcion</span>(S <span style="color:#f92672">*</span>_myun)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  S resul; <span style="color:#75715e">// [rsp+20h] [rbp-18h]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  resul.n <span style="color:#f92672">=</span> <span style="color:#ae81ff">305419896</span> <span style="color:#f92672">-</span> _myun<span style="color:#f92672">-&gt;</span>n;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> ( resul.n <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> )
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">exit</span>(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>  resul.c <span style="color:#f92672">*=</span> <span style="color:#ae81ff">16</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> ( <span style="color:#f92672">!</span>resul.c )
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">exit</span>(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>  resul.s[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> _myun<span style="color:#f92672">-&gt;</span>s[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">-</span> _myun<span style="color:#f92672">-&gt;</span>c;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> (<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span>)resul.n;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//----- (00000001400010A0) ----------------------------------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#66d9ef">__fastcall</span> <span style="color:#a6e22e">vfprintf_l</span>(
</span></span><span style="display:flex;"><span>        _iobuf <span style="color:#f92672">*</span><span style="color:#66d9ef">const</span> _Stream,
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>_Format,
</span></span><span style="display:flex;"><span>        __crt_locale_pointers <span style="color:#f92672">*</span><span style="color:#66d9ef">const</span> _Locale,
</span></span><span style="display:flex;"><span>        va_list _ArgList)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">__int64</span> <span style="color:#f92672">*</span>v4; <span style="color:#75715e">// rax
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  v4 <span style="color:#f92672">=</span> <span style="color:#a6e22e">_local_stdio_printf_options</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">__stdio_common_vfprintf</span>(<span style="color:#f92672">*</span>v4, _Stream, _Format, _Locale, _ArgList);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//----- (00000001400010F0) ----------------------------------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#66d9ef">__fastcall</span> <span style="color:#a6e22e">vfscanf_s_l</span>(
</span></span><span style="display:flex;"><span>        _iobuf <span style="color:#f92672">*</span><span style="color:#66d9ef">const</span> _Stream,
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>_Format,
</span></span><span style="display:flex;"><span>        __crt_locale_pointers <span style="color:#f92672">*</span><span style="color:#66d9ef">const</span> _Locale,
</span></span><span style="display:flex;"><span>        va_list _ArgList)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">__int64</span> <span style="color:#f92672">*</span>v4; <span style="color:#75715e">// rax
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  v4 <span style="color:#f92672">=</span> <span style="color:#a6e22e">_local_stdio_scanf_options</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">__stdio_common_vfscanf</span>(<span style="color:#f92672">*</span>v4 <span style="color:#f92672">|</span> <span style="color:#ae81ff">1</span>, _Stream, _Format, _Locale, _ArgList);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//----- (0000000140001140) ----------------------------------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#66d9ef">__fastcall</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">**</span>argv, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">**</span>envp)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  S <span style="color:#f92672">*</span>my_union; <span style="color:#75715e">// [rsp+28h] [rbp-10h]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  my_union <span style="color:#f92672">=</span> (S <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#ae81ff">4uLL</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> ( <span style="color:#f92672">!</span>my_union )
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">exit</span>(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Ingresa un numero</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">scanf_s</span>(<span style="color:#e6db74">&#34;%x&#34;</span>, my_union);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> ( (<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span>)<span style="color:#a6e22e">funcion</span>(my_union) <span style="color:#f92672">==</span> <span style="color:#ae81ff">67130096</span> )
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Super Genial</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;A estudiar</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">system</span>(<span style="color:#e6db74">&#34;pause&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//----- (00000001400011E0) ----------------------------------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">__int64</span> <span style="color:#a6e22e">printf</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>_Format, ...)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  _iobuf <span style="color:#f92672">*</span>v1; <span style="color:#75715e">// rax
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  va_list va; <span style="color:#75715e">// [rsp+58h] [rbp+10h] BYREF
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">va_start</span>(va, _Format);
</span></span><span style="display:flex;"><span>  v1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">__acrt_iob_func</span>(<span style="color:#ae81ff">1u</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> (<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span>)<span style="color:#a6e22e">vfprintf_l</span>(v1, _Format, <span style="color:#ae81ff">0LL</span>, va);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//----- (0000000140001260) ----------------------------------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">__int64</span> <span style="color:#a6e22e">scanf_s</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>_Format, ...)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  _iobuf <span style="color:#f92672">*</span>v1; <span style="color:#75715e">// rax
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  va_list va; <span style="color:#75715e">// [rsp+58h] [rbp+10h] BYREF
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">va_start</span>(va, _Format);
</span></span><span style="display:flex;"><span>  v1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">__acrt_iob_func</span>(<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> (<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span>)<span style="color:#a6e22e">vfscanf_s_l</span>(v1, _Format, <span style="color:#ae81ff">0LL</span>, va);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//----- (0000000140001A70) ----------------------------------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">__int64</span> <span style="color:#66d9ef">__fastcall</span> <span style="color:#a6e22e">_scrt_initialize_winrt</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0LL</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//----- (0000000140001A74) ----------------------------------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">__int64</span> <span style="color:#66d9ef">__fastcall</span> <span style="color:#a6e22e">get_startup_argv_mode</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1LL</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//----- (0000000140001A94) ----------------------------------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">char</span> <span style="color:#66d9ef">__fastcall</span> <span style="color:#a6e22e">_scrt_stub_for_acrt_uninitialize</span>(<span style="color:#66d9ef">bool</span> __formal)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// nfuncs=76 queued=9 decompiled=9 lumina nreq=0 worse=0 better=0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// ALL OK, 9 function(s) have been successfully decompiled
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">union</span> UNIONCITA {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> n;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> c;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">char</span> s[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">union</span> UNIONCITA S; 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">funcion</span>(S <span style="color:#f92672">*</span>_myun)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  S resul; <span style="color:#75715e">// [rsp+20h] [rbp-18h]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// result.n tiene que valer 67130096
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Tenés que ingresar un número hexadecimal que restando ese numero 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  resul.n <span style="color:#f92672">=</span> <span style="color:#ae81ff">305419896</span> <span style="color:#f92672">-</span> _myun<span style="color:#f92672">-&gt;</span>n;
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 305419896 - x = 67130096 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Resultado esperado: 67130096</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;_myun-&gt;n: %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,_myun<span style="color:#f92672">-&gt;</span>n);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;(unsigned int)result.n: %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,(<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span>)resul.n);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> ( resul.n <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> )
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">exit</span>(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>  resul.c <span style="color:#f92672">*=</span> <span style="color:#ae81ff">16</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> ( <span style="color:#f92672">!</span>resul.c )
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">exit</span>(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>  resul.s[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> _myun<span style="color:#f92672">-&gt;</span>s[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">-</span> _myun<span style="color:#f92672">-&gt;</span>c;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> (<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span>)resul.n;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">**</span>argv, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">**</span>envp)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  S <span style="color:#f92672">*</span>my_union; <span style="color:#75715e">// [rsp+28h] [rbp-10h]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  my_union <span style="color:#f92672">=</span> (S <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#ae81ff">4uLL</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> ( <span style="color:#f92672">!</span>my_union )
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">exit</span>(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Ingresa un numero</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%x&#34;</span>, my_union);
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">printf</span> (<span style="color:#e6db74">&#34;union: %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,my_union<span style="color:#f92672">-&gt;</span>n);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">printf</span> (<span style="color:#e6db74">&#34;%x</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#a6e22e">funcion</span>(my_union));
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">printf</span> (<span style="color:#e6db74">&#34;resultado: %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, (<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span>)<span style="color:#a6e22e">funcion</span>(my_union));
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> ( (<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span>)<span style="color:#a6e22e">funcion</span>(my_union) <span style="color:#f92672">==</span> <span style="color:#ae81ff">67130096</span> )
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Super Genial</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;A estudiar</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">union</span> 
</span></span><span style="display:flex;"><span>{      
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> s[<span style="color:#ae81ff">2</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> c;
</span></span><span style="display:flex;"><span>}S;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">funcion</span>(S <span style="color:#f92672">*</span>_myun)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  S resul; <span style="color:#75715e">// [rsp+20h] [rbp-18h]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  resul.n <span style="color:#f92672">=</span> <span style="color:#ae81ff">305419896</span> <span style="color:#f92672">-</span> _myun<span style="color:#f92672">-&gt;</span>n;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> ( resul.n <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> ) <span style="color:#a6e22e">exit</span>(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%x %x %x %c</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,resul.n,resul.s[<span style="color:#ae81ff">0</span>],resul.s[<span style="color:#ae81ff">1</span>],resul.c);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  resul.c <span style="color:#f92672">*=</span> <span style="color:#ae81ff">16</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%x %x %x %c</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,resul.n,resul.s[<span style="color:#ae81ff">0</span>],resul.s[<span style="color:#ae81ff">1</span>],resul.c);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> ( <span style="color:#f92672">!</span>resul.c )  <span style="color:#a6e22e">exit</span>(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>  resul.s[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> _myun<span style="color:#f92672">-&gt;</span>s[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">-</span> _myun<span style="color:#f92672">-&gt;</span>c;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> (<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span>)resul.n;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">**</span>argv, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">**</span>envp)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  S <span style="color:#f92672">*</span>my_union; <span style="color:#75715e">// [rsp+28h] [rbp-10h]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  my_union <span style="color:#f92672">=</span> (S <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#ae81ff">4uLL</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> ( <span style="color:#f92672">!</span>my_union )
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">exit</span>(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Enter a number</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%x&#34;</span>, my_union);
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> ( <span style="color:#a6e22e">funcion</span>(my_union) <span style="color:#f92672">==</span> <span style="color:#ae81ff">67130096</span> )
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;You win</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;You lost</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>
</div>


      </div>
    </section>
  </section><script 
src="/quiz/quizdown.js">
</script>
<script 
src="/quiz/quizdownKatex.js">
</script>
<script 
src="/quiz/quizdownHighlight.js">
</script>
<script>quizdown.register(quizdownHighlight).register(quizdownKatex).init()</script> 
<footer class="footer">
  <div class="content has-text-centered">
    
    
    <p>
      
      <a class="" href="https://imlauera.github.io/index.xml" target="_blank">
        <span>
          RSS
        </span>
      </a>
      
      | <a href="https://imlauera.github.io" target="_blank">Andres Imlauer.</a> 

      
      
    </p>
    
  </div>




<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({ tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]} })
</script>
</footer>


</body>
</html>
