<!DOCTYPE html>
<html lang="es">





<head>
  <meta property="og:url" content="https://imlauera.github.io/achicar_git_folder/">
  <meta property="og:site_name" content="Imlauer">
  <meta property="og:title" content="Como reducir el tamaño de la carpeta .git">
  <meta property="og:description" content="https://stackoverflow.com/questions/5613345/how-to-shrink-the-git-folder
Linus Torvalds recomienda: git repack -a -d -f --depth=250 --window=250
Pero si pusheaste imágenes git repack no las borrará. Para borrar esa información tenés que reescribir todo tu historial. Un ejemplo común de esto es cuando accidentalmente pusheas tus contraseñas en git. Podés borrar los archivos pero luego tenés que reescrbiir tu historial desde que pusheaste la contraseña hasta ahora y luego el nuevo repositorio a al origen.
Will this get rid of binary data that is orphaned in my repo? “git repack” will not git rid of images or binary data that you have checked into your repo and then deleted it. To delete those kind of data permanently from your repo you have to re-write your history. A common example of that is when you accidentally check in your passwords in git. You can go back and delete some files but then you have to re-write your history from then to now and then force push then new repo to your origin.">
  <meta property="og:locale" content="es_es">
  <meta property="og:type" content="article">
    <meta property="article:published_time" content="2024-12-29T08:12:00-03:00">
    <meta property="article:modified_time" content="2024-12-29T08:12:00-03:00">
    <meta property="article:tag" content="Git">

  
  <meta itemprop="name" content="Como reducir el tamaño de la carpeta .git">
  <meta itemprop="description" content="https://stackoverflow.com/questions/5613345/how-to-shrink-the-git-folder
Linus Torvalds recomienda: git repack -a -d -f --depth=250 --window=250
Pero si pusheaste imágenes git repack no las borrará. Para borrar esa información tenés que reescribir todo tu historial. Un ejemplo común de esto es cuando accidentalmente pusheas tus contraseñas en git. Podés borrar los archivos pero luego tenés que reescrbiir tu historial desde que pusheaste la contraseña hasta ahora y luego el nuevo repositorio a al origen.
Will this get rid of binary data that is orphaned in my repo? “git repack” will not git rid of images or binary data that you have checked into your repo and then deleted it. To delete those kind of data permanently from your repo you have to re-write your history. A common example of that is when you accidentally check in your passwords in git. You can go back and delete some files but then you have to re-write your history from then to now and then force push then new repo to your origin.">
  <meta itemprop="datePublished" content="2024-12-29T08:12:00-03:00">
  <meta itemprop="dateModified" content="2024-12-29T08:12:00-03:00">
  <meta itemprop="wordCount" content="404">
  <meta itemprop="keywords" content="Git">
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Como reducir el tamaño de la carpeta .git">
  <meta name="twitter:description" content="https://stackoverflow.com/questions/5613345/how-to-shrink-the-git-folder
Linus Torvalds recomienda: git repack -a -d -f --depth=250 --window=250
Pero si pusheaste imágenes git repack no las borrará. Para borrar esa información tenés que reescribir todo tu historial. Un ejemplo común de esto es cuando accidentalmente pusheas tus contraseñas en git. Podés borrar los archivos pero luego tenés que reescrbiir tu historial desde que pusheaste la contraseña hasta ahora y luego el nuevo repositorio a al origen.
Will this get rid of binary data that is orphaned in my repo? “git repack” will not git rid of images or binary data that you have checked into your repo and then deleted it. To delete those kind of data permanently from your repo you have to re-write your history. A common example of that is when you accidentally check in your passwords in git. You can go back and delete some files but then you have to re-write your history from then to now and then force push then new repo to your origin.">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
    
    Como reducir el tamaño de la carpeta .git
    
  </title>
  <link rel="stylesheet" href='https://imlauera.github.io/css/site.min.css'>
  <link rel="canonical" href="https://imlauera.github.io/achicar_git_folder/">
  <link rel="alternate" type="application/rss&#43;xml" href="https://imlauera.github.io/index.xml" title="Imlauer">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="referrer" content="no-referrer">
  <meta name="author" content="Imlauer.">
  <meta name="description" content="https://stackoverflow.com/questions/5613345/how-to-shrink-the-git-folder
Linus Torvalds recomienda: git repack -a -d -f --depth=250 --window=250
Pero si pusheaste imágenes git repack no las borrará. Para borrar esa información tenés que reescribir todo tu historial. Un ejemplo común de esto es cuando accidentalmente pusheas tus contraseñas en git. Podés borrar los archivos pero luego tenés que reescrbiir tu historial desde que pusheaste la contraseña hasta ahora y luego el nuevo repositorio a al origen.

Will this get rid of binary data that is orphaned in my repo? &ldquo;git repack&rdquo; will not git rid of images or binary data that you have checked into your repo and then deleted it. To delete those kind of data permanently from your repo you have to re-write your history. A common example of that is when you accidentally check in your passwords in git. You can go back and delete some files but then you have to re-write your history from then to now and then force push then new repo to your origin.">
</head>
<body><nav class="navbar is-transparent " role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a class="navbar-item" href="https://imlauera.github.io/">
      <figure class="image">
        <img alt="" class="is-rounded" src="/img/memememe.jpg">
      </figure>
    </a>
    <a class="navbar-item" href="https://imlauera.github.io/">
      Imlauer
    </a>
    <a class="navbar-item" href="/acerca/">
      Acerca de Mi
    </a>
  </div>
  
  
</nav>

  <section>
    <section class='hero is-small is-link is-fullwidth'>
      <div class="hero-body">
<div class="container">
  <h1 class="title">
    Como reducir el tamaño de la carpeta .git
  </h1>
  <h2 class="subtitle">
    <time datetime='2024-12-29T08:12:00-03:00'>
      December 29, 2024
    </time>
    
    <br>
    
    
    
    <a class="tag is-info" href="https://imlauera.github.io/tags/git/">Git</a>
    
    
    
  </h2>
</div>

      </div>
    </section>
    <section class="section">
      <div class="container">
<div class="content is-medium">
  <p><a href="https://stackoverflow.com/questions/5613345/how-to-shrink-the-git-folder">https://stackoverflow.com/questions/5613345/how-to-shrink-the-git-folder</a></p>
<p>Linus Torvalds recomienda: <code>git repack -a -d -f --depth=250 --window=250</code></p>
<p>Pero si pusheaste imágenes git repack no las borrará. Para borrar esa información tenés que reescribir todo tu historial. Un ejemplo común de esto es cuando accidentalmente pusheas tus contraseñas en git. Podés borrar los archivos pero luego tenés que reescrbiir tu historial desde que pusheaste la contraseña hasta ahora y luego el nuevo repositorio a al origen.</p>
<blockquote>
<p>Will this get rid of binary data that is orphaned in my repo? &ldquo;git repack&rdquo; will not git rid of images or binary data that you have checked into your repo and then deleted it. To delete those kind of data permanently from your repo you have to re-write your history. A common example of that is when you accidentally check in your passwords in git. You can go back and delete some files but then you have to re-write your history from then to now and then force push then new repo to your origin.</p>
</blockquote>
<p><a href="https://stackoverflow.com/questions/13716658/how-to-delete-all-commit-history-in-github">https://stackoverflow.com/questions/13716658/how-to-delete-all-commit-history-in-github</a></p>
<p>Deleting the .git folder may cause problems in your git repository. If you want to delete all your commit history but keep the code in its current state, it is very safe to do it as in the following:</p>
<p>Checkout/create orphan branch (this branch won&rsquo;t show in git branch command):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git checkout --orphan latest_branch
</span></span></code></pre></div><p>Add all the files to the newly created branch:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git add -A
</span></span></code></pre></div><p>Commit the changes:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git commit -am <span style="color:#e6db74">&#34;commit message&#34;</span>
</span></span></code></pre></div><p>Delete <code>main</code> (default) branch (this step is permanent):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git branch -D main
</span></span></code></pre></div><p>Rename the current branch to main:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git branch -m main
</span></span></code></pre></div><p>Finally, all changes are completed on your local repository, and force update your remote repository:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git push -f origin main
</span></span></code></pre></div><p>PS: This will not keep your old commit history around. Now you should only see your new commit in the history of your git repository.</p>
<h3 id="otra-opción-es-borrar-la-carpeta-git">Otra opción es borrar la carpeta <code>.git</code></h3>
<p>If you are sure you want to remove all commit history, simply delete the .git directory in your project root (note that it&rsquo;s hidden). Then initialize a new repository in the same folder and link it to the GitHub repository:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git init
</span></span><span style="display:flex;"><span>git remote add origin git@github.com:user/repo
</span></span></code></pre></div><p>now commit your current version of code</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git add *
</span></span><span style="display:flex;"><span>git commit -am <span style="color:#e6db74">&#39;message&#39;</span>
</span></span></code></pre></div><p>and finally force the update to GitHub:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git push -f origin master
</span></span></code></pre></div><p>However, I suggest backing up the history (the .git folder in the repository) before taking these steps!</p>

</div>


      </div>
    </section>
  </section><script 
src="/quiz/quizdown.js">
</script>
<script 
src="/quiz/quizdownKatex.js">
</script>
<script 
src="/quiz/quizdownHighlight.js">
</script>
<script>quizdown.register(quizdownHighlight).register(quizdownKatex).init()</script> 
<footer class="footer">
  <div class="content has-text-centered">
    
    
    <p>
      
      <a class="" href="https://imlauera.github.io/index.xml" target="_blank">
        <span>
          RSS
        </span>
      </a>
      
      | <a href="https://imlauera.github.io" target="_blank">Andres Imlauer.</a> 

      
      
    </p>
    
  </div>




<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({ tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]} })
</script>
</footer>


</body>
</html>
