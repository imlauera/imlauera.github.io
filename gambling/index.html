<!DOCTYPE html>
<html lang="es">





<head>
  <meta property="og:url" content="https://imlauera.github.io/gambling/">
  <meta property="og:site_name" content="Imlauer">
  <meta property="og:title" content="Gambling">
  <meta property="og:description" content="En este stream Reckful ense√±a un poco de ‚Äúgambling‚Äù invertir: https://youtube.com/watch?v=2NnNKzrNPBs
Gentileza de Claude. Gu√≠a Completa de Opciones Financieras y Script de Trading Voy a explicarte desde cero c√≥mo funcionan las opciones y luego te dar√© un script completo para ayudarte a analizar oportunidades. T√≥mate tu tiempo para leer, esto es importante.
üìö Parte 1: ¬øQu√© son las opciones? Concepto b√°sico Imagina que ves una casa que te gusta y cuesta $100,000, pero no ten√©s el dinero ahora. Le pag√°s $2,000 al due√±o por el derecho (no la obligaci√≥n) de comprarla a $100,000 en 3 meses.">
  <meta property="og:locale" content="es_es">
  <meta property="og:type" content="article">
    <meta property="article:published_time" content="2025-12-29T12:14:54-03:00">
    <meta property="article:modified_time" content="2025-12-29T12:14:54-03:00">

  
  <meta itemprop="name" content="Gambling">
  <meta itemprop="description" content="En este stream Reckful ense√±a un poco de ‚Äúgambling‚Äù invertir: https://youtube.com/watch?v=2NnNKzrNPBs
Gentileza de Claude. Gu√≠a Completa de Opciones Financieras y Script de Trading Voy a explicarte desde cero c√≥mo funcionan las opciones y luego te dar√© un script completo para ayudarte a analizar oportunidades. T√≥mate tu tiempo para leer, esto es importante.
üìö Parte 1: ¬øQu√© son las opciones? Concepto b√°sico Imagina que ves una casa que te gusta y cuesta $100,000, pero no ten√©s el dinero ahora. Le pag√°s $2,000 al due√±o por el derecho (no la obligaci√≥n) de comprarla a $100,000 en 3 meses.">
  <meta itemprop="datePublished" content="2025-12-29T12:14:54-03:00">
  <meta itemprop="dateModified" content="2025-12-29T12:14:54-03:00">
  <meta itemprop="wordCount" content="2399">
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Gambling">
  <meta name="twitter:description" content="En este stream Reckful ense√±a un poco de ‚Äúgambling‚Äù invertir: https://youtube.com/watch?v=2NnNKzrNPBs
Gentileza de Claude. Gu√≠a Completa de Opciones Financieras y Script de Trading Voy a explicarte desde cero c√≥mo funcionan las opciones y luego te dar√© un script completo para ayudarte a analizar oportunidades. T√≥mate tu tiempo para leer, esto es importante.
üìö Parte 1: ¬øQu√© son las opciones? Concepto b√°sico Imagina que ves una casa que te gusta y cuesta $100,000, pero no ten√©s el dinero ahora. Le pag√°s $2,000 al due√±o por el derecho (no la obligaci√≥n) de comprarla a $100,000 en 3 meses.">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
    
    Gambling
    
  </title>
  <link rel="stylesheet" href='https://imlauera.github.io/css/site.min.css'>
  <link rel="canonical" href="https://imlauera.github.io/gambling/">
  <link rel="alternate" type="application/rss&#43;xml" href="https://imlauera.github.io/index.xml" title="Imlauer">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="referrer" content="no-referrer">
  <meta name="author" content="Imlauer.">
  <meta name="description" content="En este stream Reckful ense√±a un poco de &ldquo;gambling&rdquo; invertir: https://youtube.com/watch?v=2NnNKzrNPBs
Gentileza de Claude.
Gu√≠a Completa de Opciones Financieras y Script de Trading
Voy a explicarte desde cero c√≥mo funcionan las opciones y luego te dar√© un script completo para ayudarte a analizar oportunidades. T√≥mate tu tiempo para leer, esto es importante.
üìö Parte 1: ¬øQu√© son las opciones?
Concepto b√°sico
Imagina que ves una casa que te gusta y cuesta $100,000, pero no ten√©s el dinero ahora. Le pag√°s $2,000 al due√±o por el derecho (no la obligaci√≥n) de comprarla a $100,000 en 3 meses.">
</head>
<body><nav class="navbar is-transparent " role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a class="navbar-item" href="https://imlauera.github.io/">
      <figure class="image">
        <img alt="" class="is-rounded" src="/img/memememe.jpg">
      </figure>
    </a>
    <a class="navbar-item" href="https://imlauera.github.io/">
      Imlauer
    </a>
    <a class="navbar-item" href="/acerca/">
      Acerca de Mi
    </a>
  </div>
  
  
</nav>

  <section>
    <section class='hero is-small is-link is-fullwidth'>
      <div class="hero-body">
<div class="container">
  <h1 class="title">
    Gambling
  </h1>
  <h2 class="subtitle">
    <time datetime='2025-12-29T12:14:54-03:00'>
      December 29, 2025
    </time>
    
  </h2>
</div>

      </div>
    </section>
    <section class="section">
      <div class="container">
<div class="content is-medium">
  <p>En este stream Reckful ense√±a un poco de &ldquo;gambling&rdquo; invertir: <a href="https://youtube.com/watch?v=2NnNKzrNPBs">https://youtube.com/watch?v=2NnNKzrNPBs</a></p>
<h1 id="gentileza-de-claude">Gentileza de Claude.</h1>
<h1 id="gu√≠a-completa-de-opciones-financieras-y-script-de-trading">Gu√≠a Completa de Opciones Financieras y Script de Trading</h1>
<p>Voy a explicarte desde cero c√≥mo funcionan las opciones y luego te dar√© un script completo para ayudarte a analizar oportunidades. T√≥mate tu tiempo para leer, esto es importante.</p>
<h2 id="-parte-1-qu√©-son-las-opciones">üìö Parte 1: ¬øQu√© son las opciones?</h2>
<h3 id="concepto-b√°sico">Concepto b√°sico</h3>
<p>Imagina que ves una casa que te gusta y cuesta $100,000, pero no ten√©s el dinero ahora. Le pag√°s $2,000 al due√±o por el <strong>derecho</strong> (no la obligaci√≥n) de comprarla a $100,000 en 3 meses.</p>
<p><strong>Escenario A:</strong> En 3 meses la casa vale $120,000 ‚Üí Ejerc√©s tu derecho, la compr√°s a $100,000 y gan√°s $18,000 (menos los $2,000 que pagaste)</p>
<p><strong>Escenario B:</strong> En 3 meses la casa vale $80,000 ‚Üí No ejerc√©s el derecho. Solo perd√©s los $2,000 iniciales.</p>
<h3 id="tipos-de-opciones">Tipos de opciones</h3>
<p><strong>CALL (Opci√≥n de Compra)</strong></p>
<ul>
<li>Te da el derecho de <strong>comprar</strong> una acci√≥n a un precio fijo</li>
<li>Apost√°s a que el precio <strong>SUBA</strong></li>
<li>Ejemplo: Apple est√° a $230, compr√°s un CALL de $240
<ul>
<li>Si Apple llega a $260, gan√°s (260-240) √ó 100 = $2,000 por contrato</li>
<li>Si queda en $230, perd√©s lo que pagaste por el CALL</li>
</ul>
</li>
</ul>
<p><strong>PUT (Opci√≥n de Venta)</strong></p>
<ul>
<li>Te da el derecho de <strong>vender</strong> una acci√≥n a un precio fijo</li>
<li>Apost√°s a que el precio <strong>BAJE</strong></li>
<li>Ejemplo: Intel est√° a $49, compr√°s un PUT de $48
<ul>
<li>Si Intel cae a $40, gan√°s (48-40) √ó 100 = $800 por contrato</li>
<li>Si queda en $49, perd√©s lo que pagaste por el PUT</li>
</ul>
</li>
</ul>
<h3 id="elementos-clave">Elementos clave</h3>
<ol>
<li><strong>Strike Price (Precio de Ejercicio):</strong> El precio al que pod√©s comprar/vender</li>
<li><strong>Expiration Date (Fecha de Vencimiento):</strong> Cu√°ndo expira tu derecho</li>
<li><strong>Premium (Prima):</strong> Lo que pag√°s por la opci√≥n</li>
<li><strong>Contrato = 100 acciones:</strong> Cada opci√≥n controla 100 acciones</li>
</ol>
<h3 id="ejemplo-real-del-documento">Ejemplo real del documento</h3>
<p>En el texto, el streamer compr√≥ <strong>Intel PUT de $48 a $0.34</strong>:</p>
<ul>
<li>Pag√≥ $34 por contrato ($0.34 √ó 100 acciones)</li>
<li>Intel cerr√≥ en $45.80</li>
<li>El PUT val√≠a $2.17 al cierre (48 - 45.80)</li>
<li>Ganancia: ($2.17 - $0.34) √ó 100 = <strong>$183 por contrato (538% de retorno)</strong></li>
</ul>
<h2 id="-advertencias-cr√≠ticas">‚ö†Ô∏è Advertencias CR√çTICAS</h2>
<ol>
<li><strong>Puedes perder el 100% de tu inversi√≥n</strong> en opciones</li>
<li><strong>La volatilidad es extrema</strong> - puedes ganar o perder 500% en horas</li>
<li><strong>El tiempo trabaja en tu contra</strong> - las opciones pierden valor cada d√≠a</li>
<li><strong>NO uses dinero que no puedas perder</strong></li>
<li><strong>Las opciones son derivados complejos</strong> - practica con simuladores primero</li>
</ol>
<h2 id="-script-de-python-para-an√°lisis-de-opciones--c√≥mo-usar-el-script">üêç Script de Python para An√°lisis de Opciones## üìñ C√≥mo usar el script</h2>
<h3 id="instalaci√≥n-de-dependencias">Instalaci√≥n de dependencias</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip install yfinance pandas numpy matplotlib scipy
</span></span></code></pre></div><h3 id="ejecuci√≥n-b√°sica">Ejecuci√≥n b√°sica</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>python script<span style="color:#f92672">.</span>py
</span></span></code></pre></div><p>El script te guiar√° con un men√∫ interactivo.</p>
<h2 id="-estrategias-explicadas-del-documento">üéì Estrategias explicadas del documento</h2>
<h3 id="1-buying-calls-comprar-opciones-de-compra">1. <strong>Buying CALLs (Comprar opciones de compra)</strong></h3>
<ul>
<li>Apost√°s a que el precio suba</li>
<li>Riesgo limitado al costo del contrato</li>
<li>Potencial de ganancia ilimitado (te√≥ricamente)</li>
</ul>
<h3 id="2-buying-puts-comprar-opciones-de-venta">2. <strong>Buying PUTs (Comprar opciones de venta)</strong></h3>
<ul>
<li>Apost√°s a que el precio baje</li>
<li>Ejemplo del documento: Intel PUT funcion√≥ perfecto</li>
<li>Gan√≥ 538% en horas porque predijo la ca√≠da</li>
</ul>
<h3 id="3-selling-puts-vender-opciones-de-venta---riesgoso">3. <strong>Selling PUTs (Vender opciones de venta) - RIESGOSO</strong></h3>
<ul>
<li>Lo que hizo con Apple al final del documento</li>
<li>&ldquo;Jug√°s de banquero&rdquo; - cobras la prima</li>
<li>Si el precio no baja mucho, te qued√°s con todo el dinero</li>
<li><strong>PELIGRO:</strong> Si baja mucho, tus p√©rdidas pueden ser enormes</li>
</ul>
<h3 id="4-hedging-cobertura">4. <strong>Hedging (Cobertura)</strong></h3>
<ul>
<li>Compr√°s acciones + PUTs como seguro</li>
<li>Si las acciones bajan, las PUTs suben</li>
<li>Es como pagar un seguro contra ca√≠das</li>
</ul>
<h2 id="-consejos-basados-en-el-documento">üí° Consejos basados en el documento</h2>
<ol>
<li>
<p><strong>Volatilidad = Oportunidad</strong>: Las primas son m√°s caras en mercados vol√°tiles, pero tambi√©n hay m√°s movimiento</p>
</li>
<li>
<p><strong>Timing es todo</strong>: El streamer compr√≥ Intel PUTs cuando vio una subida del 15% que no parec√≠a sostenible</p>
</li>
<li>
<p><strong>Expiraciones cortas = M√°s riesgo</strong>: √âl compraba opciones que expiraban el mismo d√≠a (0DTE - Zero Days To Expiration)</p>
</li>
<li>
<p><strong>Liquidez importa</strong>: Siempre verific√° volumen y open interest para poder salir de la posici√≥n</p>
</li>
<li>
<p><strong>No te enamores de la posici√≥n</strong>: Si ves ganancias, consider√° tomar profits. √âl se arrepinti√≥ de no vender cuando Intel subi√≥ temporalmente</p>
</li>
</ol>
<h2 id="-advertencias-finales">‚ö†Ô∏è Advertencias finales</h2>
<p>El documento muestra a alguien ganando mucho dinero r√°pidamente, pero tambi√©n menciona:</p>
<ul>
<li>Perdi√≥ $85,000 en un d√≠a en 2014 (GTAT)</li>
<li>En poker, gan√≥ mucho y despu√©s &ldquo;perdi√≥ todo en un stream&rdquo;</li>
<li>Las opciones son extremadamente vol√°tiles</li>
</ul>
<p><strong>Mi consejo profesional:</strong></p>
<ol>
<li>Usa simuladores por 3-6 meses antes de arriesgar dinero real</li>
<li>Empieza con montos que no te duelan perder ($100-500)</li>
<li>Estudia an√°lisis t√©cnico y fundamental</li>
<li>Lee libros como &ldquo;Options as a Strategic Investment&rdquo;</li>
<li>Consider√° cursos de trading certificados</li>
</ol>
<p>¬øQuer√©s que profundice en alg√∫n aspecto espec√≠fico o que te explique alguna estrategia en particular?</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Sistema Completo de An√°lisis y Trading de Opciones
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Autor: Asistente AI
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Versi√≥n: 1.0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ADVERTENCIA: Este script es educativo. Nunca inviertas dinero que no puedas perder.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> yfinance <span style="color:#66d9ef">as</span> yf
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> datetime <span style="color:#f92672">import</span> datetime, timedelta
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> scipy.stats <span style="color:#f92672">import</span> norm
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> warnings
</span></span><span style="display:flex;"><span>warnings<span style="color:#f92672">.</span>filterwarnings(<span style="color:#e6db74">&#39;ignore&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">OptionsAnalyzer</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Analizador completo de opciones financieras&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self, ticker):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Inicializa el analizador con un ticker
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            ticker (str): S√≠mbolo de la acci√≥n (ej: &#39;AAPL&#39;, &#39;MSFT&#39;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>ticker <span style="color:#f92672">=</span> ticker<span style="color:#f92672">.</span>upper()
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>stock <span style="color:#f92672">=</span> yf<span style="color:#f92672">.</span>Ticker(self<span style="color:#f92672">.</span>ticker)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>current_price <span style="color:#f92672">=</span> <span style="color:#66d9ef">None</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>load_data()
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">load_data</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;Carga datos actuales de la acci√≥n&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>            info <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>stock<span style="color:#f92672">.</span>info
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>current_price <span style="color:#f92672">=</span> info<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;currentPrice&#39;</span>) <span style="color:#f92672">or</span> info<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;regularMarketPrice&#39;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;=&#39;</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;üìä An√°lisis de </span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>ticker<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;=&#39;</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Precio actual: $</span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>current_price<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Empresa: </span><span style="color:#e6db74">{</span>info<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;longName&#39;</span>, <span style="color:#e6db74">&#39;N/A&#39;</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Sector: </span><span style="color:#e6db74">{</span>info<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;sector&#39;</span>, <span style="color:#e6db74">&#39;N/A&#39;</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">Exception</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Error cargando datos: </span><span style="color:#e6db74">{</span>e<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>current_price <span style="color:#f92672">=</span> <span style="color:#66d9ef">None</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_options_chain</span>(self, expiration_date<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Obtiene la cadena de opciones para una fecha
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            expiration_date (str): Fecha en formato &#39;YYYY-MM-DD&#39; o None para la m√°s cercana
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> expiration_date <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>                expirations <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>stock<span style="color:#f92672">.</span>options
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> expirations:
</span></span><span style="display:flex;"><span>                    print(<span style="color:#e6db74">&#34;No hay opciones disponibles para este ticker&#34;</span>)
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">None</span>, <span style="color:#66d9ef">None</span>
</span></span><span style="display:flex;"><span>                expiration_date <span style="color:#f92672">=</span> expirations[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>                print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Usando fecha de expiraci√≥n: </span><span style="color:#e6db74">{</span>expiration_date<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            opt <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>stock<span style="color:#f92672">.</span>option_chain(expiration_date)
</span></span><span style="display:flex;"><span>            calls <span style="color:#f92672">=</span> opt<span style="color:#f92672">.</span>calls
</span></span><span style="display:flex;"><span>            puts <span style="color:#f92672">=</span> opt<span style="color:#f92672">.</span>puts
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">üìû CALLs disponibles: </span><span style="color:#e6db74">{</span>len(calls)<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;üìâ PUTs disponibles: </span><span style="color:#e6db74">{</span>len(puts)<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> calls, puts
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">Exception</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Error obteniendo opciones: </span><span style="color:#e6db74">{</span>e<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">None</span>, <span style="color:#66d9ef">None</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">analyze_option_opportunity</span>(self, option_type<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;call&#39;</span>, target_return<span style="color:#f92672">=</span><span style="color:#ae81ff">1.0</span>, days_to_expiry<span style="color:#f92672">=</span><span style="color:#ae81ff">30</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Analiza oportunidades de trading de opciones
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            option_type (str): &#39;call&#39; o &#39;put&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            target_return (float): Retorno objetivo (1.0 = 100%)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            days_to_expiry (int): D√≠as m√°ximos hasta expiraci√≥n
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>current_price <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;No se pudo obtener el precio actual&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">None</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Buscar fecha de expiraci√≥n apropiada</span>
</span></span><span style="display:flex;"><span>        expirations <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>stock<span style="color:#f92672">.</span>options
</span></span><span style="display:flex;"><span>        target_date <span style="color:#f92672">=</span> datetime<span style="color:#f92672">.</span>now() <span style="color:#f92672">+</span> timedelta(days<span style="color:#f92672">=</span>days_to_expiry)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        best_expiry <span style="color:#f92672">=</span> <span style="color:#66d9ef">None</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> exp <span style="color:#f92672">in</span> expirations:
</span></span><span style="display:flex;"><span>            exp_date <span style="color:#f92672">=</span> datetime<span style="color:#f92672">.</span>strptime(exp, <span style="color:#e6db74">&#39;%Y-%m-</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> exp_date <span style="color:#f92672">&lt;=</span> target_date:
</span></span><span style="display:flex;"><span>                best_expiry <span style="color:#f92672">=</span> exp
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> best_expiry <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>            best_expiry <span style="color:#f92672">=</span> expirations[<span style="color:#ae81ff">0</span>] <span style="color:#66d9ef">if</span> expirations <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">None</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> best_expiry <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;No hay fechas de expiraci√≥n disponibles&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">None</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        calls, puts <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>get_options_chain(best_expiry)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> calls <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span> <span style="color:#f92672">or</span> puts <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">None</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        options <span style="color:#f92672">=</span> calls <span style="color:#66d9ef">if</span> option_type<span style="color:#f92672">.</span>lower() <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;call&#39;</span> <span style="color:#66d9ef">else</span> puts
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;=&#39;</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;üéØ Buscando </span><span style="color:#e6db74">{</span>option_type<span style="color:#f92672">.</span>upper()<span style="color:#e6db74">}</span><span style="color:#e6db74">s con retorno objetivo: </span><span style="color:#e6db74">{</span>target_return<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span><span style="color:#e6db74">:</span><span style="color:#e6db74">.0f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">%&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;=&#39;</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        opportunities <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> idx, row <span style="color:#f92672">in</span> options<span style="color:#f92672">.</span>iterrows():
</span></span><span style="display:flex;"><span>            strike <span style="color:#f92672">=</span> row[<span style="color:#e6db74">&#39;strike&#39;</span>]
</span></span><span style="display:flex;"><span>            premium <span style="color:#f92672">=</span> row[<span style="color:#e6db74">&#39;lastPrice&#39;</span>]
</span></span><span style="display:flex;"><span>            volume <span style="color:#f92672">=</span> row[<span style="color:#e6db74">&#39;volume&#39;</span>]
</span></span><span style="display:flex;"><span>            open_interest <span style="color:#f92672">=</span> row[<span style="color:#e6db74">&#39;openInterest&#39;</span>]
</span></span><span style="display:flex;"><span>            implied_vol <span style="color:#f92672">=</span> row<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;impliedVolatility&#39;</span>, <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> premium <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">or</span> volume <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">continue</span>
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># Calcular precio objetivo para alcanzar el retorno</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> option_type<span style="color:#f92672">.</span>lower() <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;call&#39;</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#75715e"># Para CALL: necesitamos que el precio suba</span>
</span></span><span style="display:flex;"><span>                target_price <span style="color:#f92672">=</span> strike <span style="color:#f92672">+</span> premium <span style="color:#f92672">*</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> target_return)
</span></span><span style="display:flex;"><span>                price_change_needed <span style="color:#f92672">=</span> ((target_price <span style="color:#f92672">-</span> self<span style="color:#f92672">.</span>current_price) <span style="color:#f92672">/</span> self<span style="color:#f92672">.</span>current_price) <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>                breakeven <span style="color:#f92672">=</span> strike <span style="color:#f92672">+</span> premium
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#75715e"># Para PUT: necesitamos que el precio baje</span>
</span></span><span style="display:flex;"><span>                target_price <span style="color:#f92672">=</span> strike <span style="color:#f92672">-</span> premium <span style="color:#f92672">*</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> target_return)
</span></span><span style="display:flex;"><span>                price_change_needed <span style="color:#f92672">=</span> ((target_price <span style="color:#f92672">-</span> self<span style="color:#f92672">.</span>current_price) <span style="color:#f92672">/</span> self<span style="color:#f92672">.</span>current_price) <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>                breakeven <span style="color:#f92672">=</span> strike <span style="color:#f92672">-</span> premium
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># Calcular probabilidad usando modelo simplificado</span>
</span></span><span style="display:flex;"><span>            probability <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>estimate_probability(target_price, best_expiry, implied_vol)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># Calcular score de oportunidad</span>
</span></span><span style="display:flex;"><span>            score <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>calculate_opportunity_score(
</span></span><span style="display:flex;"><span>                premium, volume, open_interest, probability, price_change_needed
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            opportunities<span style="color:#f92672">.</span>append({
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;strike&#39;</span>: strike,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;premium&#39;</span>: premium,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;cost_per_contract&#39;</span>: premium <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;volume&#39;</span>: volume,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;open_interest&#39;</span>: open_interest,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;implied_volatility&#39;</span>: implied_vol <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;target_price&#39;</span>: target_price,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;breakeven&#39;</span>: breakeven,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;price_change_needed&#39;</span>: price_change_needed,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;probability&#39;</span>: probability <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;potential_profit&#39;</span>: premium <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span> <span style="color:#f92672">*</span> target_return,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;score&#39;</span>: score
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> opportunities:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;No se encontraron oportunidades&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">None</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Ordenar por score</span>
</span></span><span style="display:flex;"><span>        df_opps <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(opportunities)
</span></span><span style="display:flex;"><span>        df_opps <span style="color:#f92672">=</span> df_opps<span style="color:#f92672">.</span>sort_values(<span style="color:#e6db74">&#39;score&#39;</span>, ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Mostrar top 5</span>
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">üèÜ TOP 5 OPORTUNIDADES:</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> i, row <span style="color:#f92672">in</span> df_opps<span style="color:#f92672">.</span>head(<span style="color:#ae81ff">5</span>)<span style="color:#f92672">.</span>iterrows():
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">#</span><span style="color:#e6db74">{</span>i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> - Strike $</span><span style="color:#e6db74">{</span>row[<span style="color:#e6db74">&#39;strike&#39;</span>]<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;   üí∞ Prima: $</span><span style="color:#e6db74">{</span>row[<span style="color:#e6db74">&#39;premium&#39;</span>]<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> (Costo: $</span><span style="color:#e6db74">{</span>row[<span style="color:#e6db74">&#39;cost_per_contract&#39;</span>]<span style="color:#e6db74">:</span><span style="color:#e6db74">.0f</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> por contrato)&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;   üéØ Precio objetivo: $</span><span style="color:#e6db74">{</span>row[<span style="color:#e6db74">&#39;target_price&#39;</span>]<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;   üìä Breakeven: $</span><span style="color:#e6db74">{</span>row[<span style="color:#e6db74">&#39;breakeven&#39;</span>]<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;   üìà Cambio necesario: </span><span style="color:#e6db74">{</span>row[<span style="color:#e6db74">&#39;price_change_needed&#39;</span>]<span style="color:#e6db74">:</span><span style="color:#e6db74">+.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">%&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;   üé≤ Probabilidad estimada: </span><span style="color:#e6db74">{</span>row[<span style="color:#e6db74">&#39;probability&#39;</span>]<span style="color:#e6db74">:</span><span style="color:#e6db74">.1f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">%&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;   üíµ Ganancia potencial: $</span><span style="color:#e6db74">{</span>row[<span style="color:#e6db74">&#39;potential_profit&#39;</span>]<span style="color:#e6db74">:</span><span style="color:#e6db74">.0f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;   üìä Volumen: </span><span style="color:#e6db74">{</span>int(row[<span style="color:#e6db74">&#39;volume&#39;</span>])<span style="color:#e6db74">}</span><span style="color:#e6db74"> | Open Interest: </span><span style="color:#e6db74">{</span>int(row[<span style="color:#e6db74">&#39;open_interest&#39;</span>])<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;   ‚ö° Volatilidad impl√≠cita: </span><span style="color:#e6db74">{</span>row[<span style="color:#e6db74">&#39;implied_volatility&#39;</span>]<span style="color:#e6db74">:</span><span style="color:#e6db74">.1f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">%&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;   ‚≠ê Score: </span><span style="color:#e6db74">{</span>row[<span style="color:#e6db74">&#39;score&#39;</span>]<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">/100&#34;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> df_opps
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">estimate_probability</span>(self, target_price, expiration_date, implied_vol):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Estima probabilidad de alcanzar precio objetivo usando Black-Scholes simplificado
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            target_price (float): Precio objetivo
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            expiration_date (str): Fecha de expiraci√≥n
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            implied_vol (float): Volatilidad impl√≠cita
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>current_price <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span> <span style="color:#f92672">or</span> implied_vol <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0.5</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>            days_to_expiry <span style="color:#f92672">=</span> (datetime<span style="color:#f92672">.</span>strptime(expiration_date, <span style="color:#e6db74">&#39;%Y-%m-</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#39;</span>) <span style="color:#f92672">-</span> datetime<span style="color:#f92672">.</span>now())<span style="color:#f92672">.</span>days
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> days_to_expiry <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            time_to_expiry <span style="color:#f92672">=</span> days_to_expiry <span style="color:#f92672">/</span> <span style="color:#ae81ff">365.0</span>
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># C√°lculo simplificado usando distribuci√≥n normal</span>
</span></span><span style="display:flex;"><span>            log_return <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>log(target_price <span style="color:#f92672">/</span> self<span style="color:#f92672">.</span>current_price)
</span></span><span style="display:flex;"><span>            volatility <span style="color:#f92672">=</span> implied_vol <span style="color:#f92672">*</span> np<span style="color:#f92672">.</span>sqrt(time_to_expiry)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> volatility <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0.5</span>
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            z_score <span style="color:#f92672">=</span> log_return <span style="color:#f92672">/</span> volatility
</span></span><span style="display:flex;"><span>            probability <span style="color:#f92672">=</span> norm<span style="color:#f92672">.</span>cdf(z_score)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> max(<span style="color:#ae81ff">0.01</span>, min(<span style="color:#ae81ff">0.99</span>, probability))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">except</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0.5</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_opportunity_score</span>(self, premium, volume, open_interest, probability, price_change):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Calcula un score de 0-100 para la oportunidad
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Factores:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        - Liquidez (volumen y open interest)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        - Probabilidad de √©xito
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        - Relaci√≥n riesgo/recompensa
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        - Realismo del movimiento de precio necesario
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Score de liquidez (0-30 puntos)</span>
</span></span><span style="display:flex;"><span>        liquidity_score <span style="color:#f92672">=</span> min(<span style="color:#ae81ff">30</span>, (volume <span style="color:#f92672">/</span> <span style="color:#ae81ff">100</span>) <span style="color:#f92672">+</span> (open_interest <span style="color:#f92672">/</span> <span style="color:#ae81ff">1000</span>))
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Score de probabilidad (0-40 puntos)</span>
</span></span><span style="display:flex;"><span>        probability_score <span style="color:#f92672">=</span> probability <span style="color:#f92672">*</span> <span style="color:#ae81ff">40</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Score de movimiento realista (0-30 puntos)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Penaliza movimientos muy grandes</span>
</span></span><span style="display:flex;"><span>        abs_change <span style="color:#f92672">=</span> abs(price_change)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> abs_change <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>:
</span></span><span style="display:flex;"><span>            movement_score <span style="color:#f92672">=</span> <span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> abs_change <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>:
</span></span><span style="display:flex;"><span>            movement_score <span style="color:#f92672">=</span> <span style="color:#ae81ff">25</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> abs_change <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">20</span>:
</span></span><span style="display:flex;"><span>            movement_score <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            movement_score <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        total_score <span style="color:#f92672">=</span> liquidity_score <span style="color:#f92672">+</span> probability_score <span style="color:#f92672">+</span> movement_score
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> min(<span style="color:#ae81ff">100</span>, total_score)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">plot_strategy</span>(self, option_type, strike, premium, contracts<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Grafica el perfil de ganancia/p√©rdida de una estrategia
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            option_type (str): &#39;call&#39; o &#39;put&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            strike (float): Precio de ejercicio
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            premium (float): Prima pagada
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            contracts (int): N√∫mero de contratos
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>current_price <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Rango de precios para graficar</span>
</span></span><span style="display:flex;"><span>        price_range <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>linspace(
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>current_price <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.7</span>,
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>current_price <span style="color:#f92672">*</span> <span style="color:#ae81ff">1.3</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Calcular P&amp;L</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> option_type<span style="color:#f92672">.</span>lower() <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;call&#39;</span>:
</span></span><span style="display:flex;"><span>            payoff <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>maximum(price_range <span style="color:#f92672">-</span> strike, <span style="color:#ae81ff">0</span>) <span style="color:#f92672">-</span> premium
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            payoff <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>maximum(strike <span style="color:#f92672">-</span> price_range, <span style="color:#ae81ff">0</span>) <span style="color:#f92672">-</span> premium
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        payoff <span style="color:#f92672">=</span> payoff <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span> <span style="color:#f92672">*</span> contracts  <span style="color:#75715e"># Convertir a d√≥lares</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Crear gr√°fico</span>
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">6</span>))
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>plot(price_range, payoff, <span style="color:#e6db74">&#39;b-&#39;</span>, linewidth<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>option_type<span style="color:#f92672">.</span>upper()<span style="color:#e6db74">}</span><span style="color:#e6db74"> $</span><span style="color:#e6db74">{</span>strike<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>axhline(y<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;r&#39;</span>, linestyle<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;--&#39;</span>, alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Breakeven&#39;</span>)
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>axvline(x<span style="color:#f92672">=</span>self<span style="color:#f92672">.</span>current_price, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;g&#39;</span>, linestyle<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;--&#39;</span>, alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;Precio actual ($</span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>current_price<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">)&#39;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Marcar breakeven</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> option_type<span style="color:#f92672">.</span>lower() <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;call&#39;</span>:
</span></span><span style="display:flex;"><span>            breakeven_price <span style="color:#f92672">=</span> strike <span style="color:#f92672">+</span> premium
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            breakeven_price <span style="color:#f92672">=</span> strike <span style="color:#f92672">-</span> premium
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>axvline(x<span style="color:#f92672">=</span>breakeven_price, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;orange&#39;</span>, linestyle<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;--&#39;</span>, alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;Breakeven ($</span><span style="color:#e6db74">{</span>breakeven_price<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">)&#39;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#39;Precio de la Acci√≥n ($)&#39;</span>, fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">12</span>)
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#39;Ganancia/P√©rdida ($)&#39;</span>, fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">12</span>)
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>title(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;Perfil de P&amp;L: </span><span style="color:#e6db74">{</span>option_type<span style="color:#f92672">.</span>upper()<span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>ticker<span style="color:#e6db74">}</span><span style="color:#e6db74"> $</span><span style="color:#e6db74">{</span>strike<span style="color:#e6db74">}</span><span style="color:#e6db74"> | </span><span style="color:#e6db74">{</span>contracts<span style="color:#e6db74">}</span><span style="color:#e6db74"> contrato(s)&#39;</span>, fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">14</span>, fontweight<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;bold&#39;</span>)
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>grid(<span style="color:#66d9ef">True</span>, alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.3</span>)
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>legend(fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># A√±adir √°reas de ganancia/p√©rdida</span>
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>fill_between(price_range, <span style="color:#ae81ff">0</span>, payoff, where<span style="color:#f92672">=</span>(payoff <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>), alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.3</span>, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;green&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Zona de ganancia&#39;</span>)
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>fill_between(price_range, <span style="color:#ae81ff">0</span>, payoff, where<span style="color:#f92672">=</span>(payoff <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>), alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.3</span>, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;red&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Zona de p√©rdida&#39;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>tight_layout()
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">risk_calculator</span>(self, investment_amount, max_loss_percent<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Calcula cu√°ntos contratos comprar seg√∫n tu tolerancia al riesgo
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            investment_amount (float): Capital total disponible
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            max_loss_percent (float): M√°ximo % que est√°s dispuesto a perder
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        max_loss <span style="color:#f92672">=</span> investment_amount <span style="color:#f92672">*</span> (max_loss_percent <span style="color:#f92672">/</span> <span style="color:#ae81ff">100</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;=&#39;</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;üí∞ CALCULADORA DE RIESGO&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;=&#39;</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Capital disponible: $</span><span style="color:#e6db74">{</span>investment_amount<span style="color:#e6db74">:</span><span style="color:#e6db74">,.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;M√°xima p√©rdida aceptable: </span><span style="color:#e6db74">{</span>max_loss_percent<span style="color:#e6db74">}</span><span style="color:#e6db74">% = $</span><span style="color:#e6db74">{</span>max_loss<span style="color:#e6db74">:</span><span style="color:#e6db74">,.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">RECOMENDACIONES:&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;  ‚Ä¢ Nunca arriesgues m√°s del </span><span style="color:#e6db74">{</span>max_loss_percent<span style="color:#e6db74">}</span><span style="color:#e6db74">% en una sola operaci√≥n&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;  ‚Ä¢ Diversifica entre 3-5 operaciones diferentes&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;  ‚Ä¢ Por operaci√≥n: m√°ximo $</span><span style="color:#e6db74">{</span>max_loss<span style="color:#f92672">/</span><span style="color:#ae81ff">3</span><span style="color:#e6db74">:</span><span style="color:#e6db74">,.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;  ‚Ä¢ Deja al menos 50% del capital como reserva&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;=&#39;</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">educational_summary</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;Muestra un resumen educativo sobre opciones&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;=&#39;</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;üìö RESUMEN EDUCATIVO DE OPCIONES&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;=&#39;</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">CONCEPTOS CLAVE:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">1. CALL (Opci√≥n de Compra):
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   - Compr√°s el derecho a COMPRAR a un precio fijo
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   - Gan√°s si el precio SUBE por encima del strike + prima
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   - P√©rdida m√°xima: La prima que pagaste
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">2. PUT (Opci√≥n de Venta):
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   - Compr√°s el derecho a VENDER a un precio fijo
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   - Gan√°s si el precio BAJA por debajo del strike - prima
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   - P√©rdida m√°xima: La prima que pagaste
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">3. ELEMENTOS:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   - Strike: Precio de ejercicio
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   - Premium: Costo de la opci√≥n (por acci√≥n)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   - Expiration: Fecha de vencimiento
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   - 1 contrato = 100 acciones
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">4. BREAKEVEN:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   - CALL: Strike + Premium
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   - PUT: Strike - Premium
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">5. RIESGOS:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   ‚ö†Ô∏è  Puedes perder el 100</span><span style="color:#e6db74">% d</span><span style="color:#e6db74">e lo invertido
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   ‚ö†Ô∏è  El tiempo trabaja en tu contra (decay)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   ‚ö†Ô∏è  La volatilidad afecta los precios
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   ‚ö†Ô∏è  Requiere timing perfecto
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">6. CONSEJOS:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   ‚úì Practica con simuladores primero
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   ‚úì Empieza con montos peque√±os
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   ‚úì Estudia la empresa y el mercado
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   ‚úì No uses dinero que necesites
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   ‚úì Define tu estrategia de salida ANTES de entrar
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#34;&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;=&#39;</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Funci√≥n principal con men√∫ interactivo&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    ‚ïë     SISTEMA DE AN√ÅLISIS DE OPCIONES FINANCIERAS       ‚ïë
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    ‚ïë                  Versi√≥n Educativa 1.0                ‚ïë
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    ‚ö†Ô∏è  ADVERTENCIA IMPORTANTE:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Este es un sistema educativo. El trading de opciones
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    es extremadamente riesgoso. Puedes perder todo tu capital.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Nunca inviertas dinero que no puedas perder.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Solicitar ticker</span>
</span></span><span style="display:flex;"><span>    ticker <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">üìä Ingresa el ticker a analizar (ej: AAPL, MSFT, TSLA): &#34;</span>)<span style="color:#f92672">.</span>strip()<span style="color:#f92672">.</span>upper()
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> ticker:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;‚ùå Ticker inv√°lido&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Crear analizador</span>
</span></span><span style="display:flex;"><span>    analyzer <span style="color:#f92672">=</span> OptionsAnalyzer(ticker)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> analyzer<span style="color:#f92672">.</span>current_price <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;‚ùå No se pudo obtener informaci√≥n del ticker&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;=&#39;</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;MEN√ö PRINCIPAL&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;=&#39;</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;1. Analizar oportunidades de CALLs&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;2. Analizar oportunidades de PUTs&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;3. Ver cadena completa de opciones&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;4. Graficar estrategia espec√≠fica&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;5. Calculadora de riesgo&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;6. Resumen educativo&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;7. Cambiar ticker&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;8. Salir&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;=&#39;</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        choice <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Selecciona una opci√≥n (1-8): &#34;</span>)<span style="color:#f92672">.</span>strip()
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> choice <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;1&#39;</span>:
</span></span><span style="display:flex;"><span>            target <span style="color:#f92672">=</span> float(input(<span style="color:#e6db74">&#34;Retorno objetivo deseado (ej: 1.0 = 100%, 0.5 = 50%): &#34;</span>) <span style="color:#f92672">or</span> <span style="color:#e6db74">&#34;1.0&#34;</span>)
</span></span><span style="display:flex;"><span>            days <span style="color:#f92672">=</span> int(input(<span style="color:#e6db74">&#34;D√≠as m√°ximos hasta expiraci√≥n (ej: 30): &#34;</span>) <span style="color:#f92672">or</span> <span style="color:#e6db74">&#34;30&#34;</span>)
</span></span><span style="display:flex;"><span>            analyzer<span style="color:#f92672">.</span>analyze_option_opportunity(<span style="color:#e6db74">&#39;call&#39;</span>, target, days)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> choice <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;2&#39;</span>:
</span></span><span style="display:flex;"><span>            target <span style="color:#f92672">=</span> float(input(<span style="color:#e6db74">&#34;Retorno objetivo deseado (ej: 1.0 = 100%, 0.5 = 50%): &#34;</span>) <span style="color:#f92672">or</span> <span style="color:#e6db74">&#34;1.0&#34;</span>)
</span></span><span style="display:flex;"><span>            days <span style="color:#f92672">=</span> int(input(<span style="color:#e6db74">&#34;D√≠as m√°ximos hasta expiraci√≥n (ej: 30): &#34;</span>) <span style="color:#f92672">or</span> <span style="color:#e6db74">&#34;30&#34;</span>)
</span></span><span style="display:flex;"><span>            analyzer<span style="color:#f92672">.</span>analyze_option_opportunity(<span style="color:#e6db74">&#39;put&#39;</span>, target, days)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> choice <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;3&#39;</span>:
</span></span><span style="display:flex;"><span>            calls, puts <span style="color:#f92672">=</span> analyzer<span style="color:#f92672">.</span>get_options_chain()
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> calls <span style="color:#f92672">is</span> <span style="color:#f92672">not</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>                print(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">üìû CALLs (primeros 10):&#34;</span>)
</span></span><span style="display:flex;"><span>                print(calls[[<span style="color:#e6db74">&#39;strike&#39;</span>, <span style="color:#e6db74">&#39;lastPrice&#39;</span>, <span style="color:#e6db74">&#39;volume&#39;</span>, <span style="color:#e6db74">&#39;openInterest&#39;</span>]]<span style="color:#f92672">.</span>head(<span style="color:#ae81ff">10</span>))
</span></span><span style="display:flex;"><span>                print(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">üìâ PUTs (primeros 10):&#34;</span>)
</span></span><span style="display:flex;"><span>                print(puts[[<span style="color:#e6db74">&#39;strike&#39;</span>, <span style="color:#e6db74">&#39;lastPrice&#39;</span>, <span style="color:#e6db74">&#39;volume&#39;</span>, <span style="color:#e6db74">&#39;openInterest&#39;</span>]]<span style="color:#f92672">.</span>head(<span style="color:#ae81ff">10</span>))
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> choice <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;4&#39;</span>:
</span></span><span style="display:flex;"><span>            opt_type <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Tipo (call/put): &#34;</span>)<span style="color:#f92672">.</span>strip()<span style="color:#f92672">.</span>lower()
</span></span><span style="display:flex;"><span>            strike <span style="color:#f92672">=</span> float(input(<span style="color:#e6db74">&#34;Strike price: &#34;</span>))
</span></span><span style="display:flex;"><span>            premium <span style="color:#f92672">=</span> float(input(<span style="color:#e6db74">&#34;Premium (precio por acci√≥n): &#34;</span>))
</span></span><span style="display:flex;"><span>            contracts <span style="color:#f92672">=</span> int(input(<span style="color:#e6db74">&#34;N√∫mero de contratos: &#34;</span>) <span style="color:#f92672">or</span> <span style="color:#e6db74">&#34;1&#34;</span>)
</span></span><span style="display:flex;"><span>            analyzer<span style="color:#f92672">.</span>plot_strategy(opt_type, strike, premium, contracts)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> choice <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;5&#39;</span>:
</span></span><span style="display:flex;"><span>            capital <span style="color:#f92672">=</span> float(input(<span style="color:#e6db74">&#34;Capital disponible ($): &#34;</span>))
</span></span><span style="display:flex;"><span>            risk <span style="color:#f92672">=</span> float(input(<span style="color:#e6db74">&#34;M√°ximo </span><span style="color:#e6db74">% a</span><span style="color:#e6db74"> arriesgar (ej: 10): &#34;</span>) <span style="color:#f92672">or</span> <span style="color:#e6db74">&#34;10&#34;</span>)
</span></span><span style="display:flex;"><span>            analyzer<span style="color:#f92672">.</span>risk_calculator(capital, risk)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> choice <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;6&#39;</span>:
</span></span><span style="display:flex;"><span>            analyzer<span style="color:#f92672">.</span>educational_summary()
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> choice <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;7&#39;</span>:
</span></span><span style="display:flex;"><span>            ticker <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Nuevo ticker: &#34;</span>)<span style="color:#f92672">.</span>strip()<span style="color:#f92672">.</span>upper()
</span></span><span style="display:flex;"><span>            analyzer <span style="color:#f92672">=</span> OptionsAnalyzer(ticker)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> choice <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;8&#39;</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">üëã ¬°Gracias por usar el sistema! Recuerda: invierte responsablemente.&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;‚ùå Opci√≥n inv√°lida&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Ejemplo de uso directo (sin men√∫ interactivo)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Descomentar para usar el men√∫ interactivo</span>
</span></span><span style="display:flex;"><span>    main()
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># O usar directamente:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># analyzer = OptionsAnalyzer(&#39;AAPL&#39;)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># analyzer.analyze_option_opportunity(&#39;call&#39;, target_return=1.0, days_to_expiry=30)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># analyzer.plot_strategy(&#39;call&#39;, strike=240, premium=10, contracts=1)</span>
</span></span></code></pre></div>
</div>


      </div>
    </section>
  </section><script 
src="/quiz/quizdown.js">
</script>
<script 
src="/quiz/quizdownKatex.js">
</script>
<script 
src="/quiz/quizdownHighlight.js">
</script>
<script>quizdown.register(quizdownHighlight).register(quizdownKatex).init()</script> 
<footer class="footer">
  <div class="content has-text-centered">
    
    
    <p>
      
      <a class="" href="https://imlauera.github.io/index.xml" target="_blank">
        <span>
          RSS
        </span>
      </a>
      
      | <a href="https://imlauera.github.io" target="_blank">Andres Imlauer.</a> 

      
      
    </p>
    
  </div>




<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({ tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]} })
</script>
</footer>


</body>
</html>
